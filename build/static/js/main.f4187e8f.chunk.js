(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,a){e.exports={userComponent:"User__userComponent__1019G",buttonToolbar:"User__buttonToolbar__3z9P1",Form:"User__Form__2oC5o",Label:"User__Label__1QSR7",Input:"User__Input__3CDRu",datePicker:"User__datePicker__3So19",formGroup:"User__formGroup__2hv_U",select:"User__select__1edME"}},263:function(e,t,a){e.exports={App:"App__App__3t9oX",nav:"App__nav__1IdiQ",link:"App__link__xDC6h",header:"App__header__GHg6o",list:"App__list__XzT16"}},264:function(e,t,a){e.exports={Modal:"Modal__Modal__cd320"}},265:function(e,t,a){e.exports={Backdrop:"Backdrop__Backdrop__eeZpu"}},278:function(e,t,a){e.exports={result:"Result__result__3_NEH"}},279:function(e,t,a){e.exports={survey_form:"SurveyForm__survey_form__1nPeu",surveyAnswer:"SurveyForm__surveyAnswer__2plI2"}},287:function(e,t,a){e.exports=a(626)},292:function(e,t,a){},32:function(e,t,a){e.exports={content:"HomePage__content__1nqXy",featureHero:"HomePage__featureHero__3qz5E",featureHeading:"HomePage__featureHeading__tBVFX",featureBtn:"HomePage__featureBtn__1TOKX",featureLight:"HomePage__featureLight__2Jc6p",featureLightHeading:"HomePage__featureLightHeading__1aUDd",featureLightText:"HomePage__featureLightText__1QOVA",featureLightBtn:"HomePage__featureLightBtn__1DAtn",featureGray:"HomePage__featureGray__1R36o",featureDark:"HomePage__featureDark__3veY4",featureDarkHeading:"HomePage__featureDarkHeading__nIgdK",featureDarkText:"HomePage__featureDarkText__K4ATt",featureYellow:"HomePage__featureYellow__1ZYbb",featureYellowHeading:"HomePage__featureYellowHeading__n2Xuo",featureYellowBtn:"HomePage__featureYellowBtn__3IVK-",hiddenLgUp:"HomePage__hiddenLgUp__3Uyzl"}},33:function(e,t,a){e.exports={account:"Account__account__2UJXz",pageHeader:"Account__pageHeader__1oslE",form:"Account__form__wErAg",label:"Account__label__3_qX1",input:"Account__input__32v6k",button:"Account__button__31Wup",datePicker:"Account__datePicker__15e7j",formGroup:"Account__formGroup__3srVc",buttonToolbar:"Account__buttonToolbar__SxGDf"}},34:function(e,t,a){e.exports={surveyBuilder:"SurveyBuilder__surveyBuilder__lT3ge",pageHeader:"SurveyBuilder__pageHeader__W452v",form:"SurveyBuilder__form__26PA-",label:"SurveyBuilder__label__trTlQ",input:"SurveyBuilder__input__1mIEr",group:"SurveyBuilder__group__2LTCe",buttonGroup:"SurveyBuilder__buttonGroup__1yUXe",table:"SurveyBuilder__table__15jaI",tableText:"SurveyBuilder__tableText__3XNjB",tableAction:"SurveyBuilder__tableAction__2fgRW",tableId:"SurveyBuilder__tableId__2UL1C",subheader:"SurveyBuilder__subheader__2YgFI",showAnswers:"SurveyBuilder__showAnswers__P63dZ",fade:"SurveyBuilder__fade__3YOdA",hideAnswers:"SurveyBuilder__hideAnswers__2huU7","slide-in":"SurveyBuilder__slide-in__CrHft","slide-out":"SurveyBuilder__slide-out__2PAE-"}},35:function(e,t,a){e.exports={wrapper:"Login__wrapper__3H7mc",left:"Login__left__S7H-k",right:"Login__right__3B1mF",signin:"Login__signin__3MCmB",logo:"Login__logo__3igpV",textInput:"Login__textInput__3v9-q",primaryBtn:"Login__primaryBtn__3jOyU",secondaryBtn:"Login__secondaryBtn__JPPZD",or:"Login__or__2KyqF",links:"Login__links__1w9Zh",bar:"Login__bar__lnbB4",showcase:"Login__showcase__6hSiL",showcaseText:"Login__showcaseText__3pCR-"}},358:function(e,t,a){e.exports=a.p+"static/media/survey-01.6e3c54e1.gif"},359:function(e,t,a){e.exports=a.p+"static/media/survey-02.93b2a10e.gif"},360:function(e,t,a){e.exports=a.p+"static/media/survey-03.12122d83.gif"},46:function(e){e.exports={api:{url:"http://localhost:3000"}}},626:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(30),o=a.n(s),i=a(67),u=(a(292),a(4)),c=a(9),l=a(11),d=a(13),p=a(12),m=a(14),h=a(639),f=a(612),E=a(637),v=a(640),y=a(20),g=a(51),b=a.n(g),S=a(46),_=b.a.create({baseURL:S.api.url}),w=_,A=function(e){return{type:"SAVE_SURVEY",survey:e}},O=function(e){return console.log("saveSurveyFailed, error",e),{type:"SAVE_SURVEY_FAILED",error:e}},C=function(e){return{type:"CREATE_ANSWER_FAILED",error:e}},j=function(e){return{type:"SAVE_ANSWER_FAILED",error:e}},D=function(e){return{type:"DELETE_ANSWER_FAILED",error:e}},N=function(e){return console.log("action, deleteQuestionFailed, error",e),{type:"DELETE_QUESTION_FAILED",error:e}},I=function(e){return{type:"SAVE_QUESTION_FAILED",error:e}},T=function(e){return{type:"FETCH_SURVEY_FAILED",error:e}},k=function(e){return{type:"CREATE_QUESTION_FAILED",error:e}},U=function(e){return{type:"CREATE_SURVEY_FAILED",error:e}},L=function(e){return function(t){w.get("/accounts/".concat(e)).then(function(e){if(200===e.status)if(e.data.errno)console.log("ERROR",e.data.sqlMessage);else{var a=e.data[0];t({type:"FETCH_ACCOUNT",account:a})}}).catch(function(e){console.log("asyncFetchAccount error: ",e),t(function(e){return{type:"FETCH_ACCOUNT_FAILED",error:e}}(e))})}},R=function(e){return console.log("\xa1\xa1\xa1 createAccountFailed, error",e),{type:"CREATE_ACCOUNT_FAILED",error:e}},M=function(){return function(e){w.get("/accounts/maxId").then(function(t){var a;200===t.status&&(t.data.errno?console.log("ERROR",t.data.sqlMessage):e((a=t.data[0].maxId+1,console.log("@@@ createAccount, account",a),{type:"CREATE_ACCOUNT",id:a})))}).catch(function(t){console.log("asyncCreateAccount error: ",t),e(R(t))})}},F=function(e){return{type:"EDIT_ACCOUNT",account:e}},q=function(e,t){return{type:"RESET_ACCOUNT",newAccount:e,routing:t}},x=function(e){return{type:"SAVE_ACCOUNT",account:e}},Y=function(e){return{type:"SAVE_ACCOUNT_FAILED",error:e}},B=function(e){return{type:"FETCH_USER",user:e}},P=function(e){return function(t){if(e.accountFK){"/account/".concat(e.accountFK);w.get("/users/account/".concat(e.accountFK)).then(function(e){var a=e.data[0];t(B(a))})}else e.id&&w.get("/users/".concat(e.id)).then(function(e){200===e.status&&(e.data.errno?console.log("ERROR",e.data.sqlMessage):t(B(e.data[0])))})}},H=function(e,t){return{type:"RESET_USER",routing:e,newUser:t}},V=function(e){return{type:"SET_DEFAULT_USER_ACCOUNT_ID",accountId:e}},Q=function(e){return{type:"SET_DEFAULT_USER_ACCOUNT_ID_FAILED",error:e}},G=function(){return function(e){w.get("/users/maxId").then(function(t){var a=t.data[0].maxId+1;e(function(e){return{type:"CREATE_USER",id:e}}(a))})}},K=function(e){return{type:"CREATE_USER_FAILED",error:e}},W=function(e){return{type:"SAVE_USER",user:e}},X=function(e){return{type:"LIST_SURVEYS",surveys:e}},z=function(e){return{type:"LIST_SURVEYS_FAILED",error:e}},J=function(e){return function(t){w.delete("/surveys/".concat(e.id)).then(function(a){var n;200===a.status&&(a.data.errno?t((n=a.data.sqlMessage,console.log("deleteSurveyFailed, error",n),{type:"DELETE_SURVEY_FAILED",error:n})):t(function(e){return{type:"DELETE_SURVEY",survey:e}}(e)))})}},Z=function(){return function(e){w.get("/accounts").then(function(t){if(200===t.status)if(t.errno)console.log("ERROR",t.data.sqlMessage);else{var a=t.data;e(function(e){return{type:"LIST_ACCOUNTS",surveys:e}}(a))}}).catch(function(t){e(function(e){return{type:"LIST_ACCOUNTS_FAILED",error:e}}(t))})}},$=function(e){return{type:"REGISTER_ANSWER_FAILED",error:e}},ee=function(e){return{type:"SURVEY_LIST",surveys:e}},te=function(e){return console("surveyListFailed, error",e),{type:"SURVEY_LIST_FAILED",error:e}},ae=function(e){return{type:"GET_SURVEY_AND_QUESTIONS_FAILED",error:e}},ne=function(e){return function(t){w.get("/surveys/".concat(e)).then(function(e){if(200===e.status)if(e.data.errno)t(ae(e.data.sqlMessage));else{var a=e.data[0];w.get("/surveys/".concat(a.id,"/questions")).then(function(e){if(200===e.status)if(e.data.errno)t(ae(e.data.sqlMessage));else{a.questions=e.data;var n=a.questions.length;a.questions.forEach(function(e){w.get("questions/".concat(e.id,"/options")).then(function(r){200===r.status&&(r.data.errno?(n--,t(ae(r.data.sqlMessage))):(n--,e.answers=r.data)),0===n&&t(function(e){return{type:"GET_SURVEY_AND_QUESTIONS",survey:e}}(a))}).catch(function(e){t(ae(e))})})}}).catch(function(e){t(ae(e))})}}).catch(function(e){t(ae(e))})}},re=a(107),se=a.n(re),oe=function(){return{type:"LOGOUT_USER"}},ie=function(e){return{type:"LOGIN_USER_FAILED",error:e}},ue=function(e){return console.log("user login failed, error",e),{type:"USER_LOGIN_FAILED",error:e}},ce=function(e){return{type:"FETCH_USER_FIRSTNAME_FAILED",error:e}},le=a(263),de=a.n(le),pe=a(2),me=a(630),he=a(641),fe=a(642),Ee=a(631),ve=a(636),ye=a(632),ge=a(627),be=a(33),Se=a.n(be),_e=a(264),we=a.n(_e),Ae=a(265),Oe=a.n(Ae),Ce=function(e){return e.show?r.a.createElement("div",{className:Oe.a.Backdrop,onClick:e.clicked}):null},je=function(e){return e.children},De=function(e){return r.a.createElement(je,null,r.a.createElement(Ce,{show:e.show,clicked:e.modalClosed}),r.a.createElement("div",{className:we.a.Modal,style:{transform:e.show?"translateY(0)":"translateY(-100vh)",opacity:e.show?"1":"0"}},e.children))},Ne=function(e,t){return function(a){function n(){var e,t;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(t=Object(d.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).state={error:null},t.errorConfirmedHandler=function(){t.setState({error:null})},t}return Object(m.a)(n,a),Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;t.interceptors.request.use(function(t){return e.setState({error:null}),t}),t.interceptors.response.use(function(e){return e},function(t){e.setState({error:t})})}},{key:"render",value:function(){return r.a.createElement(je,null,r.a.createElement(De,{show:this.state.error,modalClosed:this.errorConfirmedHandler},this.state.error?this.state.error.message:null),r.a.createElement(e,this.props))}}]),n}(n.Component)},Ie=a(140),Te=a(17),ke=a.n(Te),Ue=(a(324),function e(){var t=this;Object(c.a)(this,e),this.login=function(e,a){return t.fetch(S.api.url+"/login",{method:"POST",body:JSON.stringify({account:e,password:a})}).then(function(e){return e.status&&t.setToken(e.token),console.log(Promise.resolve(e)),Promise.resolve(e)})},this.loggedIn=function(){var e=t.getToken();return!!e&&!t.isTokenExpired(e)},this.tokenCheck=function(){var e=localStorage.getItem("id_token");return"undefined"!==e&&null!==e},this.isTokenExpired=function(e){try{return se()(e).exp<Date.now()/1e3}catch(t){return console.log("expired check failed! Line 50: AuthHandler.js"),!1}},this.setToken=function(e){localStorage.setItem("id_token",e)},this.logout=function(){localStorage.removeItem("id_token"),localStorage.removeItem("sec")},this.getToken=function(){return localStorage.getItem("id_token")},this.logout=function(){console.log("AuthaHandler, logout"),localStorage.removeItem("id_token")},this.getData=function(){return se()(t.getToken())},this.isAdmin=function(){return"admin"===t.getData().type},this.isCompany=function(){var e=t.getData();return"company"===e.type||"admin"===e.type},this.whenExpired=function(){var e=Date.now()/1e3;return t.getData().exp-e},this.fetch=function(e,a){var n={Accept:"application/json","Content-Type":"application/json"};return t.loggedIn()&&(n.Authorization="Bearer "+t.getToken()),fetch(e,Object(u.a)({headers:n},a)).then(t._checkStatus).then(function(e){return e.json()})},this._checkStatus=function(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t}});function Le(e){var t=new Ue;return function(a){function n(){var e;return Object(c.a)(this,n),(e=Object(d.a)(this,Object(p.a)(n).call(this))).state={loaded:!1},e}return Object(m.a)(n,a),Object(l.a)(n,[{key:"componentDidMount",value:function(){if(t.loggedIn()&&t.tokenCheck())try{this.setState({loaded:!0})}catch(e){console.log(e),t.logout(),this.props.onLogoutUser(),this.props.history.push("/login")}else this.props.history.push("/login")}},{key:"render",value:function(){return this.state.loaded?r.a.createElement(e,{history:this.props.history}):null}}]),n}(n.Component)}var Re=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).AuthHandler=new Ue,a.state={id:"",accountName:"",password:"",confirmPassword:"",passwordsMatch:!0,expireDate:null,joinedDate:null,modifiedDate:null,isExpired:null,editing:!1,newAccount:!1,routing:!1,unEditedState:{id:"",accountName:"",password:"",expireDate:null,joinedDate:null,modifiedDate:null}},a.editAccount=function(e){a.props.onEditAccount(e)},a.cancelEditing=function(e){var t=a.state.unEditedState;t.account=a.state.unEditedState.accountName,a.props.onCancelEditAccount(t)},a.saveAccount=function(e){var t={id:a.state.id,account:a.state.accountName,password:a.state.password,isExpired:a.state.isExpired,joinedDate:a.state.joinedDate?a.formatMomentForDatabaseSaving(a.state.joinedDate):null,expireDate:a.state.expireDate?a.formatMomentForDatabaseSaving(a.state.expireDate):null,modifiedDate:a.state.modifiedDate?a.formatMomentForDatabaseSaving(a.state.modifiedDate):null};a.state.newAccount?a.props.onSaveNewAccount(t):a.props.onSaveAccount(t)},a.getDateMoment=function(e){if(e){if("String"==e.constructor.name){var t=e.slice(0,4)+"-"+e.slice(5,7)+"-"+e.slice(8,10)+" "+e.slice(11,13)+":"+e.slice(14,16)+":"+e.slice(17,19);return ke()(t)}return e}return null},a.getFormattedMoment=function(e){return a.getDateMoment(e)?a.getDateMoment(e).format("DD.M.YYYY"):null},a.handleExpireDateChange=a.handleExpireDateChange.bind(Object(pe.a)(Object(pe.a)(a))),a.getDateMoment=a.getDateMoment.bind(Object(pe.a)(Object(pe.a)(a))),a.handleUsernameChange=a.handleUsernameChange.bind(Object(pe.a)(Object(pe.a)(a))),a.handlePasswordChange=a.handlePasswordChange.bind(Object(pe.a)(Object(pe.a)(a))),a.handleConfirmPasswordChange=a.handleConfirmPasswordChange.bind(Object(pe.a)(Object(pe.a)(a))),a.setExpires=a.setExpires.bind(Object(pe.a)(Object(pe.a)(a))),a.getFormattedMoment=a.getFormattedMoment.bind(Object(pe.a)(Object(pe.a)(a))),a.formatMoment=a.formatMoment.bind(Object(pe.a)(Object(pe.a)(a))),a.editAccount=a.editAccount.bind(Object(pe.a)(Object(pe.a)(a))),a.cancelEditing=a.cancelEditing.bind(Object(pe.a)(Object(pe.a)(a))),a.goBack=a.goBack.bind(Object(pe.a)(Object(pe.a)(a))),a.updateState=a.updateState.bind(Object(pe.a)(Object(pe.a)(a))),a.formatMomentForDatabaseSaving=a.formatMomentForDatabaseSaving.bind(Object(pe.a)(Object(pe.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.accountsManager.selectedAccount?(this.setState({editing:!1,id:this.props.accountsManager.selectedAccount}),this.props.onFetchAccount(this.props.accountsManager.selectedAccount)):this.props.app.account_id&&(this.setState({editing:!1,id:this.props.app.account_id}),this.props.onFetchAccount(this.props.app.account_id))}},{key:"componentWillReceiveProps",value:function(e){!this.props.account.newAccount&&this.props.account.fetchSuccess&&(!this.props.account.id&&this.props.app.account_id||this.props.account.id),e.account&&(e.account.id&&this.updateState(e),e.account.newAccount&&this.setState({newAccount:!0}),e.account.saveSuccess&&this.setState({editing:!1}),e.account.editing&&this.setState({editing:e.account.editing}))}},{key:"shouldComponentUpdate",value:function(e,t,a){return e.account===this.props.account&&!e.account.componentShouldUpdate||(e.account.componentShouldUpdate=!1,!0)}},{key:"updateState",value:function(e){this.setState({id:e.account.id,accountName:e.account.account,password:"",confirmPassword:"",joinedDate:e.account.newAccount?ke()():e.account.joinedDate,expireDate:e.account.expireDate,modifiedDate:e.account.newAccount?ke()():e.account.modifiedDate,unEditedState:{id:e.account.id,accountName:e.account.account,password:e.account.password,joinedDate:e.account.newAccount?ke()():e.account.joinedDate,expireDate:e.account.expireDate,modifiedDate:e.account.newAccount?ke()():e.account.modifiedDate},isExpired:e.account.isExpired,routing:e.account.routing,editing:e.account.editing,newAccount:e.account.newAccount})}},{key:"goBack",value:function(){this.props.onResetAccount(),this.props.history.goBack()}},{key:"setExpires",value:function(e){this.setState({expireDate:this.getDateMoment(e)})}},{key:"handleUsernameChange",value:function(e){this.setState({accountName:e.target.value,editing:!0}),this.state.confirmPassword&&this.state.password&&this.state.confirmPassword===this.state.password||!this.state.password&&!this.state.confirmPassword?this.setState({passwordsMatch:!0}):this.setState({passwordsMatch:!1})}},{key:"handlePasswordChange",value:function(e){this.setState({password:e.target.value,editing:!0}),this.state.confirmPassword&&this.state.password&&this.state.confirmPassword===this.state.password||!this.state.password&&!this.state.confirmPassword?this.setState({passwordsMatch:!0}):this.setState({passwordsMatch:!1})}},{key:"handleConfirmPasswordChange",value:function(e){this.setState({confirmPassword:e.target.value,editing:!0}),this.state.confirmPassword&&this.state.password&&this.state.confirmPassword===this.state.password||!this.state.password&&!this.state.confirmPassword?this.setState({passwordsMatch:!0}):this.setState({passwordsMatch:!1})}},{key:"handleExpireDateChange",value:function(e){this.setState({editing:!0,expireDate:e}),this.state.confirmPassword&&this.state.password&&this.state.confirmPassword===this.state.password||!this.state.password&&!this.state.confirmPassword?this.setState({passwordsMatch:!0}):this.setState({passwordsMatch:!1})}},{key:"formatMoment",value:function(e,t){var a=e;return e&&"String"==e.constructor.name&&(a=this.getDateMoment(e)),t?a?a.format("DD.M.YYYY h:mm:ss"):null:a?a.format("DD.M.YYYY"):void 0}},{key:"formatMomentForDatabaseSaving",value:function(e){return e&&"String"==e.constructor.name&&(e=this.getDateMoment(e)),e&&"Moment"==e.constructor.name?e.format("YYYY-MM-DD hh:mm:ss"):null}},{key:"render",value:function(){return r.a.createElement("div",{className:Se.a.account},r.a.createElement(me.a,{className:Se.a.pageHeader},"Account"),r.a.createElement(he.a,null),r.a.createElement("form",{className:Se.a.form},r.a.createElement(fe.a,null,r.a.createElement(Ee.a,{className:Se.a.label,htmlFor:"id"},"ID"),r.a.createElement(ve.a,{className:Se.a.input,type:"text",name:"username",id:"username",defaultValue:this.props.account.id,disabled:!0})),r.a.createElement(fe.a,null,r.a.createElement(Ee.a,{className:Se.a.label,htmlFor:"username"},"Username"),r.a.createElement(ve.a,{className:Se.a.input,type:"text",name:"username",id:"username",defaultValue:this.state.accountName,disabled:!this.state.editing,onChange:this.handleUsernameChange})),r.a.createElement(fe.a,null,r.a.createElement(Ee.a,{className:Se.a.label,htmlFor:"password"},"Password"),r.a.createElement(ve.a,{className:Se.a.input,type:"password",name:"password",id:"password",defaultValue:this.state.password,disabled:!this.state.editing,onChange:this.handlePasswordChange})),r.a.createElement(fe.a,null,r.a.createElement(Ee.a,{className:Se.a.label,htmlFor:"confirmPassword"},"Confirm Password"),r.a.createElement(ve.a,{className:Se.a.input,type:"password",name:"confirmPassword",id:"confirmPassword",defaultValue:"",disabled:!this.state.editing,onChange:this.handleConfirmPasswordChange})),r.a.createElement(fe.a,null,r.a.createElement(Ee.a,{className:Se.a.label,htmlFor:"joined"},"Joined Date"),r.a.createElement(ve.a,{className:Se.a.input,disabled:"disabled",name:"joined",id:"joined",defaultValue:this.formatMoment(this.state.joinedDate)})),r.a.createElement(fe.a,{className:Se.a.formGroup},r.a.createElement(Ee.a,{className:Se.a.label,htmlFor:"expires"},"Account Expires"),r.a.createElement(Ie.a,{disabled:!this.state.editing,id:"expires",className:Se.a.datePicker,dropdownMode:"select",showYearDropdown:!0,showMonthDropdown:!0,selected:this.getDateMoment(this.state.expireDate),value:this.formatMoment(this.state.expireDate),openToDate:this.getDateMoment(this.state.expireDate),dateFormat:"D.M.YYYY",minDate:ke()(),onChange:this.handleExpireDateChange})),r.a.createElement(fe.a,null,r.a.createElement(Ee.a,{className:Se.a.label,htmlFor:"lastEdited"},"Account Last Edited"),r.a.createElement(ve.a,{className:Se.a.input,disabled:"disabled",type:"text",name:"lastEdited",id:"lastEdited",defaultValue:this.formatMoment(this.state.modifiedDate,!0)})),r.a.createElement(ye.a,{className:Se.a.buttonToolbar},r.a.createElement(ge.a,{disabled:this.state.editing,bsStyle:"primary",onClick:this.editAccount},"Edit"),r.a.createElement(ge.a,{disabled:!this.state.editing,bsStyle:"success",onClick:this.saveAccount},"Save Account"),r.a.createElement(ge.a,{disabled:!this.state.editing,onClick:this.cancelEditing},"Cancel"),r.a.createElement(ge.a,{disabled:this.state.editing,bsStyle:"info",onClick:this.goBack},"Go Back"))))}}]),t}(n.Component),Me=Le(Object(y.b)(function(e){return{app:e.app,user:e.user,account:e.account,accountsManager:e.accountsManager}},function(e){return{onFetchAccount:function(t){return e(L(t))},onCreateAccount:function(t){return e(M())},onListAccounts:function(){return e(Z())},onEditAccount:function(t){return e(F(t))},onCancelEditAccount:function(t){return e(function(e){return{type:"CANCEL_EDIT_ACCOUNT",account:e}}(t))},onSaveAccount:function(t){return e(function(e){return function(t){w.put("/accounts/".concat(e.id),e).then(function(a){200===a.status&&(a.data.errno?console.log("ERROR",a.data.sqlMessage):(e.saveSuccess=!0,t(x(e))))}).catch(function(e){console.log("asyncSaveAccount error: ",e),t(Y(e))})}}(t))},onSaveNewAccount:function(t){return e(function(e,t){return t&&(e.id=t),function(t){w.post("/accounts/",e).then(function(a){200===a.status&&(a.data.errno?console.log("ERROR",a.data.sqlMessage):(e.saveSuccess=!0,t(x(e))))}).catch(function(e){console.log("asyncSaveNewAccount error: ",e),t(Y(e))})}}(t))},onSetAccountId:function(t){return e({type:"SET_ACCOUNT_ID"})},onResetAccount:function(){return e(q())},onLogoutUser:function(){return e({type:"LOGOUT_USER"})}}})(Ne(Re,w))),Fe=a(21),qe=a.n(Fe),xe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={id:null,firstname:"",lastname:"",accountFK:null,type:"",email:"",birthdate:"",phone:"",streetAddress:"",postalCode:"",rewards:"",modifiedDate:"",editing:!1,newUser:!1,unEditedState:{id:null,firstname:"",lastname:"",accountFK:null,type:"",email:"",birthdate:null,phone:"",streetAddress:"",postalCode:"",rewards:"",modifiedDate:null}},a.getMomentFromDateString=function(e,t){if(e){var a=e.slice(0,4)+"-"+e.slice(5,7)+"-"+e.slice(8,10)+" "+e.slice(11,13)+":"+e.slice(14,16)+":"+e.slice(17,19);return ke()(a)}return null},a.getFormattedMoment=function(e,t){return e&&t?a.getMomentFromDateString(e).format("D.M.YYYY h.mm.ss"):e?a.getMomentFromDateString(e).format("D.M.YYYY"):void 0},a.cancelEditing=function(){a.setState({id:a.state.unEditedState.id,firstname:a.state.unEditedState.firstname,lastname:a.state.unEditedState.lastname,accountFK:a.state.unEditedState.accountFK,type:a.state.unEditedState.type,email:a.state.unEditedState.email,birthdate:a.state.unEditedState.birthdate,phone:a.state.unEditedState.phone,streetAddress:a.state.unEditedState.streetAddress,postalCode:a.state.unEditedState.postalCode,rewards:a.state.unEditedState.rewards,modifiedDate:a.state.unEditedState.modifiedDate,editing:!1})},a.saveUser=function(){var e={id:a.state.id,firstname:a.state.firstname,lastname:a.state.lastname,accountFK:a.state.accountFK,type:a.state.type,email:a.state.email,birthdate:a.state.birthdate?a.state.birthdate.format("YYYY-MM-DD"):null,phone:a.state.phone,streetAddress:a.state.streetAddress,postalCode:a.state.postalCode,rewards:a.state.rewards?a.state.rewards:0,modifiedDate:ke()().format("YYYY-MM-DD HH:mm:ss")};a.state.newUser?a.props.onSaveNewUser(e):a.props.onSaveUser(e)},a.saveUser=a.saveUser.bind(Object(pe.a)(Object(pe.a)(a))),a.goBack=a.goBack.bind(Object(pe.a)(Object(pe.a)(a))),a.cancelEditing=a.cancelEditing.bind(Object(pe.a)(Object(pe.a)(a))),a.getMomentFromDateString=a.getMomentFromDateString.bind(Object(pe.a)(Object(pe.a)(a))),a.getFormattedMoment=a.getFormattedMoment.bind(Object(pe.a)(Object(pe.a)(a))),a.logState=a.logState.bind(Object(pe.a)(Object(pe.a)(a))),a.handleBirthdateChange=a.handleBirthdateChange.bind(Object(pe.a)(Object(pe.a)(a))),a.handlePostalCodeChange=a.handlePostalCodeChange.bind(Object(pe.a)(Object(pe.a)(a))),a.handleStreetAddressChange=a.handleStreetAddressChange.bind(Object(pe.a)(Object(pe.a)(a))),a.handlePhoneChange=a.handlePhoneChange.bind(Object(pe.a)(Object(pe.a)(a))),a.handleEmailChange=a.handleEmailChange.bind(Object(pe.a)(Object(pe.a)(a))),a.handleLastnameChange=a.handleLastnameChange.bind(Object(pe.a)(Object(pe.a)(a))),a.handleFirstnameChange=a.handleFirstnameChange.bind(Object(pe.a)(Object(pe.a)(a))),a.updateState=a.updateState.bind(Object(pe.a)(Object(pe.a)(a))),a.handleAccountFKChange=a.handleAccountFKChange.bind(Object(pe.a)(Object(pe.a)(a))),a.handleAccountTypeChange=a.handleAccountTypeChange.bind(Object(pe.a)(Object(pe.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){if(this.props.usersManager.selectedUser){var e={id:this.props.usersManager.selectedUser};this.props.onFetchUser(e)}else if(this.props.app.account_id){var t={accountFK:this.props.app.account_id};this.props.onFetchUser(t)}else this.goBack();this.props.user&&(this.updateState(this.props),this.props.user.newUser&&this.setState({newUser:!0}))}},{key:"updateState",value:function(e){this.setState({id:e.user.id,firstname:e.user.firstname,lastname:e.user.lastname,accountFK:e.user.accountFK,type:e.user.type,email:e.user.email,birthdate:this.getMomentFromDateString(e.user.birthdate),phone:e.user.phone,streetAddress:e.user.streetAddress,postalCode:e.user.postalCode,rewards:e.user.rewards,modifiedDate:this.getMomentFromDateString(e.user.modifiedDate),unEditedState:{id:e.user.id,firstname:e.user.firstname,lastname:e.user.lastname,accountFK:e.user.accountFK,type:e.user.type,email:e.user.email,birthdate:this.getMomentFromDateString(e.user.birthdate),phone:e.user.phone,streetAddress:e.user.streetAddress,postalCode:e.user.postalCode,rewards:e.user.rewards,modifiedDate:this.getMomentFromDateString(e.user.modifiedDate)}})}},{key:"componentWillReceiveProps",value:function(e,t){this.updateState(e),e.user.modifiedDate&&e.user.newUser&&this.setState({newUser:!0}),e.user.saveSuccess&&this.setState({saveSuccess:!1,editing:!1,newUser:!1})}},{key:"goBack",value:function(){this.props.onResetUser(),this.props.history.goBack()}},{key:"handleFirstnameChange",value:function(e){this.setState({firstname:e.target.value,editing:!0})}},{key:"handleLastnameChange",value:function(e){this.setState({lastname:e.target.value,editing:!0})}},{key:"handleEmailChange",value:function(e){this.setState({email:e.target.value,editing:!0})}},{key:"handlePhoneChange",value:function(e){this.setState({phone:e.target.value,editing:!0})}},{key:"handleStreetAddressChange",value:function(e){this.setState({streetAddress:e.target.value,editing:!0})}},{key:"handlePostalCodeChange",value:function(e){this.setState({postalCode:e.target.value,editing:!0})}},{key:"handleBirthdateChange",value:function(e){e&&this.setState({birthdate:e,editing:!0})}},{key:"handleAccountFKChange",value:function(e){if(e&&e.target&&e.target.value){var t=e.target.value;this.setState({accountFK:t,editing:!0})}}},{key:"handleAccountTypeChange",value:function(e){if(e&&e.target&&e.target.value){var t=e.target.value;"notSelected"!==t?this.setState({type:t,editing:!0}):"notSelected"===t&&this.setState({type:null})}}},{key:"render",value:function(){var e=function(e,t){return t?e?e.format("DD.M.YYYY h:mm"):null:e?e.format("DD.M.YYYY"):void 0};return r.a.createElement("div",{className:qe.a.userComponent},r.a.createElement(me.a,null,"Personal Data"),r.a.createElement("hr",null),r.a.createElement("form",{className:qe.a.Form},r.a.createElement(fe.a,null,r.a.createElement(Ee.a,{className:qe.a.Label,htmlFor:"id"},"First Name"),r.a.createElement(ve.a,{className:qe.a.Input,disabled:!0,type:"text",name:"id",id:"id",defaultValue:this.state.id})),r.a.createElement(fe.a,null,r.a.createElement(Ee.a,{className:qe.a.Label,htmlFor:"firstname"},"First Name"),r.a.createElement(ve.a,{className:qe.a.Input,type:"text",name:"firstname",id:"firstname",onChange:this.handleFirstnameChange,defaultValue:this.state.firstname})),r.a.createElement(fe.a,null,r.a.createElement(Ee.a,{className:qe.a.Label,htmlFor:"lastname"},"Last Name"),r.a.createElement(ve.a,{className:qe.a.Input,type:"text",name:"lastname",id:"lastname",onChange:this.handleLastnameChange,defaultValue:this.state.lastname})),r.a.createElement(fe.a,null,r.a.createElement(Ee.a,{className:qe.a.Label,htmlFor:"email"},"Email"),r.a.createElement(ve.a,{className:qe.a.Input,type:"text",name:"email",id:"email",onChange:this.handleEmailChange,defaultValue:this.state.email})),r.a.createElement(fe.a,null,r.a.createElement(Ee.a,{className:qe.a.Label,htmlFor:"email"},"Email"),r.a.createElement(ve.a,{className:qe.a.Input,type:"text",name:"email",id:"email",onChange:this.handleEmailChange,defaultValue:this.state.email})),r.a.createElement(fe.a,{className:qe.a.formGroup},r.a.createElement(Ee.a,{className:qe.a.Label,htmlFor:"dateofbirth"},"Date of Birth"),r.a.createElement(Ie.a,{id:"dateofbirth",className:qe.a.datePicker,dropdownMode:"select",showYearDropdown:!0,showMonthDropdown:!0,selected:this.state.birthdate,value:e(this.state.birthdate),openToDate:this.state.birthdate,dateFormat:"D.M.YYYY",maxDate:ke()(),onChange:this.handleBirthdateChange})),r.a.createElement(fe.a,null,r.a.createElement(Ee.a,{className:qe.a.Label,htmlFor:"phone"},"Phone"),r.a.createElement(ve.a,{className:qe.a.Input,type:"text",name:"phone",id:"phone",onChange:this.handlePhoneChange,defaultValue:this.state.phone})),r.a.createElement(fe.a,null,r.a.createElement(Ee.a,{className:qe.a.Label,htmlFor:"streetAddress"},"Street Address"),r.a.createElement(ve.a,{className:qe.a.Input,type:"text",name:"streetAddress",id:"streetAddress",onChange:this.handleStreetAddressChange,defaultValue:this.state.streetAddress})),r.a.createElement(fe.a,null,r.a.createElement(Ee.a,{className:qe.a.Label,htmlFor:"postalCode"},"Postal Code"),r.a.createElement(ve.a,{className:qe.a.Input,type:"text",name:"postalCode",id:"postalCode",onChange:this.handlePostalCodeChange,defaultValue:this.state.postalCode})),r.a.createElement(fe.a,null,r.a.createElement(Ee.a,{className:qe.a.Label,htmlFor:"rewards"},"Account ID"),r.a.createElement(ve.a,{className:qe.a.Input,type:"number",name:"rewards",id:"rewards",onChange:this.handleAccountFKChange,value:this.state.accountFK})),r.a.createElement(fe.a,null,r.a.createElement(Ee.a,{className:qe.a.Label,htmlFor:"rewards"},"User Account Type"),r.a.createElement(ve.a,{componentClass:"select",className:qe.a.select,name:"accountType",id:"accountType",onChange:this.handleAccountTypeChange},r.a.createElement("option",{value:"notSelected"},"Select..."),r.a.createElement("option",{selected:"client"===this.state.type&&"selected",value:"client"},"Client"),r.a.createElement("option",{selected:"company"===this.state.type&&"selected",value:"company"},"Company"),r.a.createElement("option",{selected:"admin"===this.state.type&&"selected",value:"admin"},"Admin"))),r.a.createElement(fe.a,null,r.a.createElement(Ee.a,{className:qe.a.Label,htmlFor:"rewards"},"Rewards"),r.a.createElement(ve.a,{className:qe.a.Input,readOnly:!0,type:"number",name:"rewards",id:"rewards",value:this.state.rewards})),r.a.createElement(fe.a,null,r.a.createElement(Ee.a,{className:qe.a.Label,htmlFor:"lastEdited"},"Account Last Edited"),r.a.createElement(ve.a,{className:qe.a.Input,readOnly:!0,type:"text",name:"lastEdited",id:"lastEdited",value:e(this.state.modifiedDate,!0)})),r.a.createElement(ye.a,{className:qe.a.buttonToolbar},r.a.createElement(ge.a,{disabled:!this.state.editing,bsStyle:"success",onClick:this.saveUser},"Save User"),r.a.createElement(ge.a,{disabled:!this.state.editing,onClick:this.cancelEditing},"Cancel"),r.a.createElement(ge.a,{disabled:this.state.editing,bsStyle:"info",onClick:this.goBack},"Go Back"))))}}]),t}(n.Component),Ye=Le(Object(y.b)(function(e){return{app:e.app,user:e.user,usersManager:e.usersManager}},function(e){return{onFetchUser:function(t){return e(P(t))},onSaveUser:function(t){return e(function(e){return function(t){w.put("/users/".concat(e.id),e).then(function(a){200===a.status&&(a.errno?console.log("ERROR",a):t(W(e)))})}}(t))},onSaveNewUser:function(t){return e(function(e,t){return t&&(e.id=t),function(t){w.post("/users",e).then(function(a){200===a.status&&(a.errno?console.log("ERROR",a):t(W(e)))})}}(t))},onCreateUser:function(t){return e(G())},onResetUser:function(){return e(H())}}})(Ne(xe,w))),Be=a(32),Pe=a.n(Be),He=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:Pe.a.content},r.a.createElement("div",{className:Pe.a.featureHero},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:Pe.a.featureHeading},"Survey is ",r.a.createElement("span",null," a feedback "),"for education"),r.a.createElement("a",{className:Pe.a.featureBtn,href:"/login"},this.props.app.logged_in?"Get Started":"Sign In"),r.a.createElement("div",null," Current Version: ",r.a.createElement("strong",null," v0.10.0 ")))),r.a.createElement("div",{className:Pe.a.featureLight},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-7"},r.a.createElement("h2",{className:Pe.a.featureLightHeading}," Survey Better "),r.a.createElement("p",{className:Pe.a.featureLightText}," Don't have fun in finding idea? Survey identifies exactly the need for your work and what to improve, give a try. "),r.a.createElement("a",{className:Pe.a.featureLightBtn,href:"/survey"},"Learn More")),r.a.createElement("div",{className:"col-12 col-md-5"},r.a.createElement("img",{className:"img-fluid rounded",src:a(358),alt:""}))))),r.a.createElement("div",{className:Pe.a.featureGray},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-7 order-md-1"},r.a.createElement("h2",{className:Pe.a.featureLightHeading}," Survey Smarter "),r.a.createElement("p",{className:Pe.a.featureLightText}," It's difficult to create smart tools for educators. Survey understands your work and make it convenient to use, encouraging smarter creation of ideas  . "),r.a.createElement("a",{className:Pe.a.featureLightBtn,href:"/survey"},"Learn More")),r.a.createElement("div",{className:"col-12 col-md-5"},r.a.createElement("img",{className:"img-fluid rounded",src:a(359),alt:""}))))),r.a.createElement("div",{className:Pe.a.featureDark},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-7"},r.a.createElement("h2",{className:Pe.a.featureDarkHeading}," Survey Confidently "),r.a.createElement("p",{className:Pe.a.featureDarkText}," Learning the majority of opinions can be overwhelming. Survey helps you do so calmly, focus on what you need to do and not be afraid of overloading. "),r.a.createElement("a",{className:Pe.a.featureBtn,href:"/survey"},"Learn More")),r.a.createElement("div",{className:"col-12 col-md-5"},r.a.createElement("img",{className:"img-fluid rounded",src:a(360),alt:""}))))),r.a.createElement("div",{className:Pe.a.featureYellow},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("h2",{className:Pe.a.featureYellowHeading},"Ready Get Going? ")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-6"},r.a.createElement("a",{className:Pe.a.featureYellowBtn,href:"/survey"},"Get Started")),r.a.createElement("div",{className:"col-12 col-md-6 d-none d-md-block"},r.a.createElement("a",{className:Pe.a.featureYellowBtn,href:"/survey"},"Learn More"))))))}}]),t}(n.Component),Ve=Object(y.b)(function(e){return console.log("HomePage, mapStateToProps, state",e),{app:e.app}})(He),Qe=a(633),Ge=a(634),Ke=a(34),We=a.n(Ke),Xe=function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.question.id),r.a.createElement("td",null,e.question.question),r.a.createElement("td",null,r.a.createElement(Qe.a,null,r.a.createElement(ge.a,{bsStyle:"primary",onClick:function(){return e.edit(e.question)}},"Edit"),r.a.createElement(ge.a,{bsStyle:"danger",onClick:function(){return e.delete(e.question.id)}},"Delete"),r.a.createElement(ge.a,{bsStyle:"info",onClick:function(){return e.answers(e.question)}},"Answers"))))},ze=function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{className:We.a.tableId},e.id),r.a.createElement("td",null,r.a.createElement("textarea",{onChange:function(t){return e.onChange(t)},value:e.inputValue,id:e.id})),r.a.createElement("td",null,r.a.createElement(Qe.a,null,r.a.createElement(ge.a,{bsStyle:"success",onClick:function(){return e.save(e.question)}},"Save"),r.a.createElement(ge.a,{bsStyle:"default",onClick:function(){return e.cancel(e.id,e.inputValue)}},"Cancel"))))};function Je(e){return function(t){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(d.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(r)))).AuthHandler=new Ue,t.state={loaded:!1,isCompany:!1},t}return Object(m.a)(a,t),Object(l.a)(a,[{key:"componentDidMount",value:function(){if(this.AuthHandler.loggedIn())if(this.AuthHandler.isCompany())try{this.setState({loaded:!0,isCompany:!0})}catch(e){console.log(e),this.AuthHandler.logout(),this.props.onLogoutUser(),this.props.history.push("/login")}else alert("Only Company User can see this features!"),this.AuthHandler.logout(),this.props.onLogoutUser(),this.props.history.push("/login");else this.props.history.replace("/login")}},{key:"render",value:function(){return this.state.loaded&&this.state.isCompany?r.a.createElement(e,{history:this.props.history}):null}}]),a}(n.Component)}var Ze=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={id:null,title:"",questions:null,answer:null,editingSurvey:!1,editingQuestion:!1,editingAnswer:!1,newSurvey:!1,newQuestion:!1,newAnswer:!1,inputValue:"",inputId:-1},a.updateInputValue=function(e){a.setState({inputValue:e.target.value,inputId:+e.target.id})},a.updateSurveyTitle=function(e){var t=document.getElementById("title").value;a.props.onSetSurveyTitle(a.props.survey,t)},a.updateQuestionString=function(e){a.setState({inputValue:e.target.value,inputId:+e.target.id}),a.props.onSetQuestionString(a.state.inputId,a.state.inputValue)},a.updateAnswerString=function(e){a.setState({inputValue:e.target.value,inputId:+e.target.id}),a.props.onSetAnswerString(a.state.inputId,a.state.inputValue)},a.updateInputValue=a.updateInputValue.bind(Object(pe.a)(Object(pe.a)(a))),a.addNewQuestion=a.addNewQuestion.bind(Object(pe.a)(Object(pe.a)(a))),a.saveQuestion=a.saveQuestion.bind(Object(pe.a)(Object(pe.a)(a))),a.editQuestion=a.editQuestion.bind(Object(pe.a)(Object(pe.a)(a))),a.cancelQuestion=a.cancelQuestion.bind(Object(pe.a)(Object(pe.a)(a))),a.deleteQuestion=a.deleteQuestion.bind(Object(pe.a)(Object(pe.a)(a))),a.showAnswers=a.showAnswers.bind(Object(pe.a)(Object(pe.a)(a))),a.saveAnswer=a.saveAnswer.bind(Object(pe.a)(Object(pe.a)(a))),a.editAnswer=a.editAnswer.bind(Object(pe.a)(Object(pe.a)(a))),a.cancelAnswer=a.cancelAnswer.bind(Object(pe.a)(Object(pe.a)(a))),a.deleteAnswer=a.deleteAnswer.bind(Object(pe.a)(Object(pe.a)(a))),a.addNewAnswer=a.addNewAnswer.bind(Object(pe.a)(Object(pe.a)(a))),a.saveSurveyIdAndTitle=a.saveSurveyIdAndTitle.bind(Object(pe.a)(Object(pe.a)(a))),a.updateSurveyTitle=a.updateSurveyTitle.bind(Object(pe.a)(Object(pe.a)(a))),a.updateQuestionString=a.updateQuestionString.bind(Object(pe.a)(Object(pe.a)(a))),a.updateAnswerString=a.updateAnswerString.bind(Object(pe.a)(Object(pe.a)(a))),a.editSurvey=a.editSurvey.bind(Object(pe.a)(Object(pe.a)(a))),a.updateState=a.updateState.bind(Object(pe.a)(Object(pe.a)(a))),a.goBack=a.goBack.bind(Object(pe.a)(Object(pe.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.surveyBuilder&&this.props.surveyBuilder.survey&&this.props.surveyBuilder.survey.newSurvey,t=this.props.survey&&this.props.survey.id&&this.props.survey.newSurvey,a=this.props.surveyBuilder&&this.props.surveyBuilder.survey&&this.props.surveyBuilder.survey.id&&!this.props.surveyBuilder.survey.newSurvey,n=this.props.survey&&this.props.survey.id&&!this.props.survey.newSurvey;e?this.updateState(this.props.surveyBuilder.survey):t?this.updateState(this.props.survey):a?this.props.onFetchSurvey(this.props.surveyBuilder.survey.id):n&&this.props.onFetchSurvey(this.props.survey.id)}},{key:"componentWillReceiveProps",value:function(e,t){e.survey&&e.survey.saveSuccess&&this.setState({saveSuccess:e.saveSuccess,editingSurvey:e.editingSurvey}),this.updateState(e)}},{key:"shouldComponentUpdate",value:function(e,t,a){var n=this;return e.survey!==this.props.survey||(!(!e.survey||!this.props.survey||e.survey.title===this.props.survey.title)||(!(!e.survey||!this.props.survey||e.survey.editingSurvey===this.props.editingSurvey)||(!(!e.survey||!this.props.survey||e.survey.saveSuccess===this.props.saveSuccess)||(!(!e.survey||!this.props.survey||e.survey.questions===this.props.survey.questions)||(e.survey&&e.survey.questions&&this.props.survey&&this.props.survey.questions&&e.survey.questions.forEach(function(e){n.props.survey.questions.forEach(function(t){if(e.id===t.id&&e.answers!==t.answers)return!0})}),!0)))))}},{key:"updateState",value:function(e){if(e.survey){var t=Object(u.a)({},e.survey.questions);this.setState({id:e.survey.id,title:e.survey.title,questions:t,newSurvey:e.survey.newSurvey})}}},{key:"goBack",value:function(){this.props.history.goBack()}},{key:"editSurvey",value:function(){this.setState({id:this.props.survey.id,title:this.props.survey.title,editingSurvey:!0});var e={id:this.props.survey.id,title:this.props.survey.title,questions:this.props.survey.questions,newSurvey:this.state.newSurvey};this.props.onEditSurvey(e)}},{key:"saveSurveyIdAndTitle",value:function(){var e={id:this.state.id,title:this.state.title,owner:this.props.app.user_id};this.state.newSurvey?this.props.onSaveSurvey(e,!0):this.props.onSaveSurvey(e,!1)}},{key:"saveAnswer",value:function(e){e.answer_option=this.state.inputValue,this.props.onAnswerSaved(e),this.setState({editingAnswer:!1,newAnswer:!1,answer:e}),this.setState({inputId:-1,inputValue:""})}},{key:"editAnswer",value:function(e){this.setState({answer:e,inputValue:e.answer_option}),this.props.onAnswerEdited(e),this.setState({editingAnswer:!0,newAnswer:!1})}},{key:"cancelAnswer",value:function(e){this.props.onAnswerCanceled(e),this.setState({editingAnswer:!1,newAnswer:!1,answer:e})}},{key:"deleteAnswer",value:function(e){this.setState({editingAnswer:!1,newAnswer:!1,answer:null}),this.props.onAnswerDeleted(e)}},{key:"addNewAnswer",value:function(e){this.setState({newAnswer:!0,editingAnswer:!0});var t={id:null,answer_option:"",questionFK:e.id};this.props.onAnswerCreated(t)}},{key:"addNewQuestion",value:function(){this.setState({newQuestion:!0,editingQuestion:!0});var e={id:null,question:"",surveyFK:this.props.survey?this.props.survey.id:null};this.props.onQuestionCreated(e)}},{key:"saveQuestion",value:function(e){var t=null;e?(e.question=this.state.inputValue,t=e):t={id:this.state.inputId,question:this.state.inputValue,surveyFK:this.props.survey.id};var a=this.state.newQuestion;this.props.onQuestionSaved(t,a),this.setState({inputId:-1,inputValue:""})}},{key:"cancelQuestion",value:function(e,t){this.props.onQuestionCanceled(e,t),this.setState({inputId:-1,inputValue:""})}},{key:"editQuestion",value:function(e){this.setState({inputId:e.id,inputValue:e.question,newQuestion:!1}),this.props.onQuestionEdited(e)}},{key:"deleteQuestion",value:function(e){this.props.onQuestionDeleted(e)}},{key:"showAnswers",value:function(e){this.setState({question:e}),e.showAnswers?this.props.onHideAnswers(e):this.props.onShowAnswers(e)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:We.a.surveyBuilder},r.a.createElement(me.a,{className:We.a.pageHeader},"Survey Builder"),r.a.createElement("br",null),r.a.createElement(he.a,null),r.a.createElement("form",{className:We.a.form},r.a.createElement("br",null),r.a.createElement(he.a,null),r.a.createElement(fe.a,{className:We.a.group},r.a.createElement(Ee.a,{className:We.a.label,htmlFor:"id"},"Survey ID"),r.a.createElement(ve.a,{className:We.a.input,type:"text",name:"id",id:"id",disabled:!0,value:this.state.id})),r.a.createElement("br",null),r.a.createElement(he.a,null),r.a.createElement(fe.a,{className:We.a.group},r.a.createElement(Ee.a,{className:We.a.label,htmlFor:"title"},"Survey Name"),r.a.createElement(ve.a,{className:We.a.input,disabled:!this.state.editingSurvey,type:"text",name:"title",id:"title",onChange:function(){return e.updateSurveyTitle(e.state.title)},value:this.state.title})),r.a.createElement(he.a,null),r.a.createElement(Qe.a,null,r.a.createElement(ge.a,{onClick:this.editSurvey,disabled:this.state.editingSurvey,bsStyle:"primary"},"Edit"),r.a.createElement(ge.a,{onClick:this.saveSurveyIdAndTitle,disabled:!this.state.editingSurvey,bsStyle:"success"},"Save"))),r.a.createElement(he.a,null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h2",{className:We.a.subheader},"Questions"),r.a.createElement("br",null),r.a.createElement(Ge.a,{className:We.a.table},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:We.a.tableId},"ID"),r.a.createElement("th",null,"Question"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,this.props&&this.props.survey&&this.props.survey.questions?this.props.survey.questions.map(function(t){return t.editing?r.a.createElement(je,{key:"newQuestion"},r.a.createElement(ze,{key:t.id,id:t.id,question:t,inputValue:e.state.inputValue,onChange:e.updateQuestionString,save:e.saveQuestion,cancel:e.cancelQuestion}),t.answers?t.answers.map(function(e){return r.a.createElement("tr",{key:e.answer_option},r.a.createElement("td",null,"\xa0\xa0"),r.a.createElement("td",null,"\u2013"),r.a.createElement("td",null,e.answer_option))}):null):r.a.createElement(je,{key:t.id},r.a.createElement(Xe,{key:t.id,question:t,edit:e.editQuestion,delete:e.deleteQuestion,answers:e.showAnswers}),t.answers&&t.answers.map(function(a){return a.editing?r.a.createElement(je,null,r.a.createElement("tr",{key:a.id},r.a.createElement("td",null,a.id),r.a.createElement("td",null,r.a.createElement("textarea",{onChange:function(t){return e.updateAnswerString(t)},value:e.state.inputValue,id:a.id})),r.a.createElement("td",null,r.a.createElement(Qe.a,null,r.a.createElement(ge.a,{bsStyle:"success",onClick:function(){return e.saveAnswer(a)}},"Save"),r.a.createElement(ge.a,{bsStyle:"default",onClick:function(){return e.cancelAnswer(a)}},"Cancel"))))):r.a.createElement(je,null,r.a.createElement("tr",{key:a.id,className:t.showAnswers?We.a.showAnswers:We.a.hideAnswers},r.a.createElement("td",null,a.id),r.a.createElement("td",null,a.answer_option),r.a.createElement("td",null,r.a.createElement(Qe.a,null,r.a.createElement(ge.a,{onClick:function(){return e.editAnswer(a)},bsStyle:"success"},"Edit"),r.a.createElement(ge.a,{onClick:function(){return e.deleteAnswer(a)},bsStyle:"danger"},"Delete")))))}),t.showAnswers?r.a.createElement(je,null,r.a.createElement("tr",{key:"addAnswer",className:t.showAnswers?We.a.showAnswers:We.a.hideAnswers},r.a.createElement("td",null),r.a.createElement("td",null,r.a.createElement(ge.a,{onClick:function(){return e.addNewAnswer(t)},bsStyle:"primary"},"Add Answer")),r.a.createElement("td",null))):null)}):null)),r.a.createElement(ge.a,{onClick:this.addNewQuestion,bsStyle:"success"},"Add a Question"),r.a.createElement(ge.a,{bsStyle:"info",onClick:this.goBack},"Go Back"))}}]),t}(n.Component),$e=Je(Object(y.b)(function(e){return{survey:e.surveyBuilder.survey,user:e.user,account:e.account,app:e.app,error:e.surveyBuilder.error}},function(e){return{onFetchSurvey:function(t){return e(function(e){return function(t){w.get("/surveys/".concat(e)).then(function(e){var a=e.data[0];w.get("/surveys/".concat(a.id,"/questions")).then(function(e){a.questions=e.data,a.questions.forEach(function(e){w.get("questions/".concat(e.id,"/options")).then(function(t){e.answers=t.data}).catch(function(e){return t(T(e))})}),t(function(e){return{type:"FETCH_SURVEY",survey:e}}(a))}).catch(function(e){t(T(e))})}).catch(function(e){t(T(e))})}}(t))},onSaveSurvey:function(t,a){return e(function(e,t){return function(a){if(t)w.post("/surveys",e).then(function(t){200===t.status&&(t.data.errno?(console.log("asyncSaveSurvey, POST sql error",t.data.sqlMessage),a(O(t.data.sqlMessage))):a(A(e)))}).catch(function(e){console.log("asyncSaveSurvey, POST catch error",e),a(O(e))});else{var n={title:e.title,owner:e.owner};w.put("/surveys/".concat(e.id),n).then(function(t){200===t.status&&(t.data.errno?(console.log("asyncSaveSurvey, PUT sql error",t.data.sqlMessage),a(O(t.data.sqlMessage))):a(A(e)))}).catch(function(e){console.log("asyncSaveSurvey, PUT catch error",e),a(O(e))})}}}(t,a))},onEditSurvey:function(t){return e(function(e){return{type:"EDIT_SURVEY_DATA",survey:e}}(t))},onQuestionCreated:function(t){return e(function(e){return function(t){w.get("questions/maxId").then(function(a){200===a.status&&(a.data.errno?(console.log("ERROR",a.data.sqlMessage),t(k(a.data.sqlMessage))):(e.id=a.data[0].maxId+1,w.post("/questions",e).then(function(e){200===e.status&&(e.data.errno?(console.log("ERROR",e.data.sqlMessage),t(k(e.data.sqlMessage))):t({type:"CREATE_QUESTION",question:e.data}))}).catch(function(e){t(k(e))})))}).catch(function(e){t(k(e))})}}(t))},onQuestionEdited:function(t,a){return e({type:"EDIT_QUESTION",question:t})},onQuestionSaved:function(t){return e(function(e,t){return function(a){w.put("/questions/".concat(e.id),e).then(function(n){200===n.status&&(n.data.errno?a(I(n.data.sqlMessage)):a(function(e,t){return{type:"SAVE_QUESTION",question:e,newQuestion:t}}(e,t)))}).catch(function(e){a(I(e))})}}(t))},onQuestionCanceled:function(t,a){return e(function(e,t){return{type:"CANCEL_EDIT_QUESTION",id:e,value:t}}(t,a))},onQuestionDeleted:function(t){return e((a=t,function(e){w.delete("/questions/".concat(a)).then(function(t){200===t.status&&(t.data.errno?e(N(t.data.sqlMessage)):e(function(e){return{type:"DELETE_QUESTION",id:e}}(a)))}).catch(function(t){e(N(t))})}));var a},onShowAnswers:function(t){return e(function(e){return{type:"SHOW_ANSWERS",question:e}}(t))},onHideAnswers:function(t){return e(function(e){return{type:"HIDE_ANSWERS",question:e}}(t))},onAnswerCreated:function(t){return e(function(e){return function(t){w.get("/answer_options/maxId").then(function(a){200===a.status&&(a.data.errno?t(C(a.data.sqlMessage)):(e.id=a.data[0].maxId+1,w.post("/answer_options",e).then(function(e){200===e.status&&(e.data.errno?t(C(e.data.sqlMessage)):t({type:"CREATE_ANSWER",answer:e.data}))}).catch(function(e){t(C(e))})))}).catch(function(e){t(C(e))})}}(t))},onAnswerEdited:function(t){return e(function(e){return{type:"EDIT_ANSWER",answer:e}}(t))},onAnswerSaved:function(t){return e(function(e){return function(t){w.put("/answer_options/".concat(e.id),e).then(function(a){200===a.status&&(a.data.errno?t(j(a.data.sqlMessage)):t(function(e){return{type:"SAVE_ANSWER",answer:e}}(e)))}).catch(function(e){t(j(e))})}}(t))},onAnswerCanceled:function(t){return e(function(e){return{type:"CANCEL_EDIT_ANSWER",answer:e}}(t))},onAnswerDeleted:function(t){return e(function(e){return function(t){w.delete("/answer_options/".concat(e.id)).then(function(a){200===a.status&&(a.data.errno?t(D(a.data.sqlMessage)):t(function(e){return{type:"DELETE_ANSWER",answer:e}}(e)))}).catch(function(e){t(D(e))})}}(t))},onSetSurveyTitle:function(t,a){return e(function(e,t){return{type:"SET_SURVEY_TITLE",survey:e,title:t}}(t,a))},onSetQuestionString:function(t,a){return e(function(e,t){return{type:"SET_QUESTION_STRING",id:e,question:t}}(t,a))},onSetAnswerString:function(t,a){return e(function(e,t){return{type:"SET_ANSWER_STRING",id:e,answer:t}}(t,a))},onLogoutUser:function(){return e({type:"LOGOUT_USER"})}}})(Ne(Ze,w))),et=a(92),tt=a.n(et),at=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).editSurvey=a.editSurvey.bind(Object(pe.a)(Object(pe.a)(a))),a.addNewSurvey=a.addNewSurvey.bind(Object(pe.a)(Object(pe.a)(a))),a.deleteSurvey=a.deleteSurvey.bind(Object(pe.a)(Object(pe.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.app&&this.props.app.type&&"company"===this.props.app.type?this.props.onListSurveys(this.props.app.user_id):this.props.onListSurveys()}},{key:"editSurvey",value:function(e){this.props.onSetSurveyId(e.id),this.props.history.push("/surveybuilder")}},{key:"addNewSurvey",value:function(){this.props.onCreateNewSurvey(),this.props.history.push("/surveybuilder")}},{key:"deleteSurvey",value:function(e){this.props.onDeleteSurvey(e)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:tt.a.surveysManager},r.a.createElement("h1",{style:{marginTop:"6rem"}},"Surveys Manager"),r.a.createElement(Ge.a,{className:tt.a.table},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,this.props.surveysManager.surveys&&this.props.surveysManager.surveys.map(function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.id),r.a.createElement("td",null,t.title),r.a.createElement("td",null,r.a.createElement(Qe.a,null,r.a.createElement(ge.a,{onClick:function(){return e.editSurvey(t)},className:tt.a.btnPrimary,bsStyle:"primary btn-sm"},"Edit"),r.a.createElement(ge.a,{onClick:function(){return e.deleteSurvey(t)},className:tt.a.btnDanger,bsStyle:"danger btn-sm"},"Delete"))))}))),r.a.createElement(ge.a,{onClick:this.addNewSurvey,className:tt.a.btn},"Add New Survey"))}}]),t}(n.Component),nt=Je(Object(y.b)(function(e){return{surveysManager:e.surveysManager,app:e.app}},function(e){return{onListSurveys:function(t){return e(function(e){return function(t){e>0?w.get("/surveys/owner/".concat(e)).then(function(e){if(200===e.status)if(e.data.errno)t(z(e.data.sqlMessage));else{var a=e.data;t(X(a))}}):w.get("/surveys").then(function(e){if(200===e.status)if(e.data.errno)t(z(e.data.sqlMessage));else{var a=e.data;t(X(a))}})}}(t))},onCreateNewSurvey:function(){return e(function(e){w.get("/surveys/maxId").then(function(t){200===t.status&&(t.data.errno?e(U(t.data.sqlMessage)):e({type:"CREATE_SURVEY",id:t.data[0].maxId+1}))}).catch(function(t){e(U(t))})})},onSetSurveyId:function(t){return e(function(e){return{type:"SET_SURVEY_ID",id:e}}(t))},onDeleteSurvey:function(t){return e(J(t))},onLogoutUser:function(){return e(oe)}}})(Ne(at,w))),rt=a(93),st=a.n(rt);function ot(e){return function(t){function a(){var e;return Object(c.a)(this,a),(e=Object(d.a)(this,Object(p.a)(a).call(this))).AuthHandler=new Ue,e.state={loaded:!1,isAdmin:!1},e}return Object(m.a)(a,t),Object(l.a)(a,[{key:"componentDidMount",value:function(){if(this.AuthHandler.loggedIn())if(this.AuthHandler.isAdmin())try{this.setState({loaded:!0,isAdmin:!0})}catch(e){console.log(e),Ue.logout(),this.props.onLogoutUser(),this.props.history.push("/login")}else alert("Only Admin User can do! Please contact the admin"),this.AuthHandler.logout(),this.props.onLogoutUser(),this.props.history.push("/login");else this.props.history.replace("/login")}},{key:"render",value:function(){return this.state.loaded&&this.state.isAdmin?r.a.createElement(e,{history:this.props.history}):null}}]),a}(n.Component)}var it=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={},a.editAccount=a.editAccount.bind(Object(pe.a)(Object(pe.a)(a))),a.deleteAccount=a.deleteAccount.bind(Object(pe.a)(Object(pe.a)(a))),a.createAccount=a.createAccount.bind(Object(pe.a)(Object(pe.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.onListAccounts()}},{key:"createAccount",value:function(){this.props.onCreateAccount(),this.props.history.push("/account")}},{key:"editAccount",value:function(e){this.props.onResetAccount(),this.props.onSelectAccount(e.id),this.props.history.push("/account")}},{key:"deleteAccount",value:function(e){this.props.onDeleteAccount(e.id)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:st.a.accountManager},r.a.createElement("h1",null,"Accounts Manager"),r.a.createElement(Ge.a,{className:st.a.table},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,this.props.accountsManager.accounts&&this.props.accountsManager.accounts.map(function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.id),r.a.createElement("td",null,t.account),r.a.createElement("td",null,r.a.createElement(Qe.a,null,r.a.createElement(ge.a,{onClick:function(){return e.editAccount(t)},className:st.a.btnPrimary,bsStyle:"primary btn-sm"},"Edit"),r.a.createElement(ge.a,{onClick:function(){return e.deleteAccount(t)},className:st.a.btnDanger,bsStyle:"danger btn-sm"},"Delete"))))}))),r.a.createElement(ge.a,{onClick:this.createAccount,className:st.a.btn},"Add New Account"))}}]),t}(n.Component),ut=ot(Object(y.b)(function(e){return{accountsManager:e.accountsManager,app:e.app}},function(e){return{onListAccounts:function(){return e(Z())},onEditAccount:function(t){return e(F(t))},onDeleteAccount:function(t){return e(function(e){return function(t){w.delete("/accounts/".concat(e)).then(function(a){200===a.status&&(a.data.errno?console.log("asyncDeleteAccount, ERROR",a.data.sqlMessage):t(function(e){return{type:"DELETE_ACCOUNT",accountId:e}}(e)))}).catch(function(e){t(function(e){return{type:"DELETE_ACCOUNT_FAILED",error:e}}(e))})}}(t))},onCreateAccount:function(){return e(M())},onResetAccount:function(){return e(q())},onFetchAccount:function(t){return e(L(t))},onSetAccountId:function(t){return e({type:"SET_ACCOUNT_ID"})},onSelectAccount:function(t){return e(function(e){return{type:"SELECT_ACCOUNT",id:e}}(t))}}})(Ne(it,w))),ct=a(94),lt=a.n(ct),dt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).createUser=a.createUser.bind(Object(pe.a)(Object(pe.a)(a))),a.editUser=a.editUser.bind(Object(pe.a)(Object(pe.a)(a))),a.deleteUser=a.deleteUser.bind(Object(pe.a)(Object(pe.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.onListUsers()}},{key:"createUser",value:function(){this.props.onResetUser(!0,!0),this.props.onCreateUser(),this.props.history.push("/user")}},{key:"editUser",value:function(e){this.props.onResetUser(!0,!1),this.props.onSelectUser(e.id),this.props.history.push("/user")}},{key:"deleteUser",value:function(e){this.props.onDeleteUser(e)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:lt.a.usersManager},r.a.createElement("h1",null,"Users Manager"),r.a.createElement(Ge.a,{className:lt.a.table},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"First Name"),r.a.createElement("th",null,"Last Name"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,this.props.usersManager.users&&this.props.usersManager.users.map(function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.id),r.a.createElement("td",null,t.firstname),r.a.createElement("td",null,t.lastname),r.a.createElement("td",null,r.a.createElement(Qe.a,null,r.a.createElement(ge.a,{onClick:function(){return e.editUser(t)},className:lt.a.btnPrimary,bsStyle:"primary btn-sm"},"Edit"),r.a.createElement(ge.a,{onClick:function(){return e.deleteUser(t.id)},className:lt.a.btnDanger,bsStyle:"danger btn-sm"},"Delete"))))}))),r.a.createElement(ge.a,{onClick:this.createUser,className:lt.a.btn},"Add New User"))}}]),t}(n.Component),pt=ot(Object(y.b)(function(e){return{usersManager:e.usersManager}},function(e){return{onListUsers:function(){return e(function(e){w.get("/users").then(function(t){if(200===t.status)if(t.data.errno)e({type:"LIST_USERS_FAILED",error:t.data.sqlMessage});else{var a=t.data;e(function(e){return{type:"LIST_USERS",users:e}}(a))}})})},onCreateUser:function(){return e(G())},onFetchUser:function(t){return e(P(t))},onResetUser:function(t,a){return e(H(t,a))},onDeleteUser:function(t){return e(function(e){return function(t){w.delete("/users/".concat(e)).then(function(a){200===a.status&&(a.data.errno?(console.log("ERROR",a.data.sqlMessage),t({type:"DELETE_USER_FAILED",error:a.data.sqlMessage})):t(function(e){return{type:"DELETE_USER",id:e}}(e)))})}}(t))},onSelectUser:function(t){return e({type:"SELECT_USER",id:t})},onLogoutUser:function(){return e({type:"LOGOUT_USER"})}}})(Ne(dt,w))),mt=a(89),ht=a(58),ft=a.n(ht),Et=a(54),vt=a.n(Et),yt=a(43),gt=a.n(yt),bt=a(45),St=a.n(bt),_t=a(44),wt=a.n(_t),At=a(109),Ot=a.n(At),Ct=a(134),jt=a.n(Ct),Dt=a(108),Nt=a.n(Dt),It=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).continue=function(e){e.preventDefault(),a.props.nextStep()},a.back=function(e){e.preventDefault(),a.props.prevStep()},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.values,a=e.handleChange;return r.a.createElement(ft.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(gt.a,{style:Tt.InputFirst},r.a.createElement(wt.a,{htmlFor:"adornment-firstname"},"Enter Your First Name"),r.a.createElement(St.a,{type:"text",defaultValue:t.firstname,onChange:a("firstName")})),r.a.createElement("br",null),r.a.createElement(gt.a,{style:Tt.Input},r.a.createElement(wt.a,{htmlFor:"adornment-lastname"},"Enter Your Last Name"),r.a.createElement(St.a,{type:"text",defaultValue:t.lastname,onChange:a("lastName")})),r.a.createElement("br",null),r.a.createElement(gt.a,{style:Tt.InputLast},r.a.createElement(wt.a,{htmlFor:"adornment-email"},"Enter Your Email"),r.a.createElement(St.a,{type:"email",defaultValue:t.email,onChange:a("email")})),r.a.createElement("br",null),r.a.createElement(gt.a,{component:"fieldset"},r.a.createElement(wt.a,{style:{marginTop:"3rem"},htmlFor:"adornment-email"},"Select Your Service Type"),r.a.createElement(jt.a,{"aria-label":"position",name:"position",value:t.type,onChange:a("type"),style:{marginTop:"6rem"},row:!0},r.a.createElement(Nt.a,{value:"Customer",control:r.a.createElement(Ot.a,{color:"primary"}),label:"Customer",labelPlacement:"top"}),r.a.createElement(Nt.a,{value:"Company",control:r.a.createElement(Ot.a,{color:"primary"}),label:"Company",labelPlacement:"top"}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(vt.a,{label:"Continue",primary:!0,style:Tt.button,onClick:this.continue}),r.a.createElement(vt.a,{label:"Back",primary:!1,style:Tt.button,onClick:this.back})))}}]),t}(n.Component),Tt={button:{margin:15},InputFirst:{width:256,marginTop:75},Input:{width:256,margin:25},InputLast:{width:256}},kt=It,Ut=a(106),Lt=a.n(Ut),Rt=a(271),Mt=a.n(Rt),Ft=a(135),qt=a.n(Ft),xt=a(272),Yt=a.n(xt),Bt=a(273),Pt=a.n(Bt),Ht=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={showPassword:!1,isMatch:!0,password:""},a.continue=function(e){e.preventDefault(),a.props.values.passwordConfirm!==a.props.values.password?a.setState({isMatch:!1}):a.props.nextStep()},a.handlePasswordMatch=function(e,t){e!==t?a.setState({isMatch:!1}):a.props.nextStep()},a.handleClickShowPassword=function(){a.setState(function(e){return{showPassword:!e.showPassword}})},a.handlePaswordChange=function(e){a.setState({password:e.target.values})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.isMatch,a=e.showPassword,n=this.props,s=n.values,o=n.handleChange;return r.a.createElement(ft.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(gt.a,{style:Vt.InputFirst},r.a.createElement(wt.a,{htmlFor:"adornment-username"},"Enter Your Username"),r.a.createElement(St.a,{type:"text",defaultValue:s.username,onChange:o("username")})),r.a.createElement("br",null),r.a.createElement(gt.a,{error:!t,style:Vt.Input},r.a.createElement(wt.a,{htmlFor:"adornment-password"},"Password"),r.a.createElement(St.a,{type:a?"text":"password",defaultValue:s.password,onChange:o("password"),endAdornment:r.a.createElement(Mt.a,{position:"end"},r.a.createElement(Lt.a,{"aria-label":"Toggle password visibility",onClick:this.handleClickShowPassword},a?r.a.createElement(Yt.a,null):r.a.createElement(Pt.a,null)))}),t?null:r.a.createElement(qt.a,{id:"component-error-text"},"Password is not Match")),r.a.createElement("br",null),r.a.createElement(gt.a,{error:!t,style:Vt.InputLast},r.a.createElement(wt.a,{htmlFor:"adornment-password"},"Confirm Your Password"),r.a.createElement(St.a,{type:"password",defaultValue:s.passwordConfirm,onChange:o("passwordConfirm")}),t?null:r.a.createElement(qt.a,{id:"component-error-text"},"Password is not Match")),r.a.createElement("br",null),r.a.createElement(vt.a,{label:"Continue",primary:!0,style:Vt.button,onClick:this.continue})))}}]),t}(n.Component),Vt={button:{margin:15},InputFirst:{width:256,marginTop:75},Input:{width:256,margin:25},InputLast:{width:256}},Qt=Ht,Gt=a(274),Kt=a.n(Gt),Wt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).continue=function(e){e.preventDefault(),a.props.nextStep()},a.back=function(e){e.preventDefault(),a.props.prevStep()},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.values,a=e.handleChange;return r.a.createElement(ft.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(gt.a,{style:Xt.InputFirst},r.a.createElement(wt.a,{htmlFor:"adornment-phone"},"Enter Your Phone"),r.a.createElement(St.a,{type:"text",defaultValue:t.phone,onChange:a("phone")})),r.a.createElement("br",null),r.a.createElement(Kt.a,{id:"date",label:"Birthdate",type:"date",onChange:a("birthdate"),defaultValue:t.birthdate,InputLabelProps:{shrink:!0},style:Xt.InputDate}),r.a.createElement("br",null),r.a.createElement(gt.a,{style:Xt.Input},r.a.createElement(wt.a,{htmlFor:"adornment-streetAddress"},"Enter Your Street Address"),r.a.createElement(St.a,{type:"text",defaultValue:t.streetAddress,onChange:a("streetAddress")})),r.a.createElement("br",null),r.a.createElement(gt.a,{style:Xt.InputLast},r.a.createElement(wt.a,{htmlFor:"adornment-postalCode"},"Enter Your Postal Code"),r.a.createElement(St.a,{type:"text",defaultValue:t.postalCode,onChange:a("postalCode")})),r.a.createElement("br",null),r.a.createElement(vt.a,{label:"Continue",primary:!0,style:Xt.button,onClick:this.continue}),r.a.createElement(vt.a,{label:"Back",primary:!1,style:Xt.button,onClick:this.back})))}}]),t}(n.Component),Xt={button:{margin:15},InputFirst:{width:256,marginTop:75,marginBottom:15},InputDate:{width:256,marginTop:"15px",marginBottom:"10px"},Input:{width:256,marginTop:"15px",marginBottom:"25px"},InputLast:{width:256}},zt=Wt,Jt=a(59),Zt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).continue=function(e){e.preventDefault();var t={id:a.props.account.id,account:a.props.values.username,password:a.props.values.password,expireDate:null,joinedDate:ke()().format("YYYY-MM-DD hh:mm:ss"),modifiedDate:ke()().format("YYYY-MM-DD hh:mm:ss")},n={id:null,firstname:a.props.values.firstName,lastname:a.props.values.lastName,accountFK:null,email:a.props.values.email,birthdate:a.props.values.birthdate,phone:a.props.values.phone,streetAddress:a.props.values.streetAddress,postalCode:a.props.values.postalCode,rewards:0,modifiedDate:ke()().format("YYYY-MM-DD hh:mm:ss"),type:"admin"};a.props.onCreateNewAccount(t),a.props.onCreateNewUser(n),a.props.nextStep()},a.back=function(e){e.preventDefault(),a.props.prevStep()},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.values,t=e.username,a=e.firstName,n=e.lastName,s=e.email,o=e.birthdate,i=e.phone,u=e.streetAddress,c=e.postalCode;return r.a.createElement(ft.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(Jt.List,null,r.a.createElement(Jt.ListItem,{style:{marginTop:75},primaryText:"Username",secondaryText:t}),r.a.createElement(Jt.ListItem,{primaryText:"First name",secondaryText:a}),r.a.createElement(Jt.ListItem,{primaryText:"Last name",secondaryText:n}),r.a.createElement(Jt.ListItem,{primaryText:"Email",secondaryText:s}),r.a.createElement(Jt.ListItem,{primaryText:"Date Of Birth",secondaryText:o}),r.a.createElement(Jt.ListItem,{primaryText:"Phone",secondaryText:i}),r.a.createElement(Jt.ListItem,{primaryText:"Street Address",secondaryText:u}),r.a.createElement(Jt.ListItem,{primaryText:"Postal Code",secondaryText:c})),r.a.createElement("br",null),r.a.createElement(vt.a,{label:"Continue",primary:!0,style:$t.button,onClick:this.continue}),r.a.createElement(vt.a,{label:"Back",primary:!1,style:$t.button,onClick:this.back})))}}]),t}(n.Component),$t={button:{margin:15}},ea=Object(y.b)(function(e){return{app:e.app,user:e.user,account:e.account}},function(e){return{onCreateNewAccount:function(t){return e(function(e){return function(t){w.get("/accounts/maxId").then(function(a){200===a.status&&(a.data.errno?console.log("asyncCreateNewAccount, ERROR",a.data.sqlMessage):(e.id=a.data[0].maxId+1,w.post("/accounts/",e).then(function(a){200===a.status&&(a.data.errno?console.log("ERROR",a.data.sqlMessage):(e.saveSuccess=!0,t(function(e){return{type:"CREATE_NEW_ACCOUNT",account:e}}(e))))})))}).catch(function(e){console.log("asyncCreateAccount maxID error: ",e),t(R(e))})}}(t))},onCreateNewUser:function(t){return e(function(e){return function(t){w.get("/users/maxId").then(function(a){200===a.status&&(a.data.errno?(console.log("ERROR",a.data.sqlMessage),t(K(a.data.sqlMessage))):(e.id=a.data[0].maxId+1,w.post("/users",e).then(function(a){200===a.status&&(a.data.errno?(console.log("ERROR",a.data.sqlMessage),t(K(a.data.sqlMessage))):t(W(e)))}).catch(function(e){t(K(e))})))}).catch(function(e){t(K(e))})}}(t))}}})(Ne(Zt,w)),ta=a(130),aa=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).autHandler=new Ue,a.setAccountFK=a.setAccountFK.bind(Object(pe.a)(Object(pe.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"setAccountFK",value:function(e,t){this.props.onSetUserAccountFK(e,t.id),this.props.onSetApp(t,e)}},{key:"componentWillReceiveProps",value:function(e,t){var a=!("undefined"===e.app.logged_in&&"undefined"===e.app.loggedIn)&&(e.app.loggedIn||e.app.logged_in);e.user&&e.user.saveSuccess&&e.account&&e.account.saveSuccess&&!a&&this.setAccountFK(e.user,e.account),a&&e.user.accountFK&&this.props&&this.props.history&&(this.autHandler.login(e.account.account,e.account.password),this.props.history.replace("/home"))}},{key:"render",value:function(){return r.a.createElement(ft.a,null,r.a.createElement(r.a.Fragment,null,this.props.app.loggedIn?r.a.createElement(E.a,{to:"/home"}):null))}}]),t}(n.Component),na=Object(ta.a)(function(e){return{app:e.app,user:e.user,account:e.account}},function(e){return{onSetUserAccountFK:function(t,a){return e(function(e,t){return function(a){e.accountFK=t,w.put("/users/".concat(e.id),e).then(function(e){200===e.status&&(e.data.errno?(console.log("userActions, asyncSetUserAccountFK, response ERROR",e.data.sqlMessage),a(Q(e.data.sqlMessage))):a(V(t)))}).catch(function(e){console.log("!!!userActions, asyncSetUserAccountFK, axios put ERROR\xa1\xa1\xa1",e),a(Q(e))})}}(t,a))},onSetApp:function(t,a){return e(function(e,t){return{type:"SET_ACCOUNT_ID_NAME",account:e,user:t}}(t,a))}}})(Ne(aa,w)),ra=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={step:1,firstName:"",lastName:"",email:"",birthdate:"",phone:"",streetAddress:"",postalCode:"",username:"",password:"",passwordConfirm:"",type:""},a.nextStep=function(){var e=a.state.step;a.setState({step:e+1})},a.prevStep=function(){var e=a.state.step;a.setState({step:e-1})},a.handleChange=function(e){return function(t){a.setState(Object(mt.a)({},e,t.target.value))}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.step,t=this.state,a={firstName:t.firstName,lastName:t.lastName,email:t.email,birthdate:t.birthdate,phone:t.phone,streetAddress:t.streetAddress,postalCode:t.postalCode,username:t.username,password:t.password,passwordConfirm:t.passwordConfirm,type:t.type};switch(e){case 1:return r.a.createElement(Qt,{nextStep:this.nextStep,handleChange:this.handleChange,values:a});case 2:return r.a.createElement(kt,{nextStep:this.nextStep,prevStep:this.prevStep,handleChange:this.handleChange,values:a});case 3:return r.a.createElement(zt,{nextStep:this.nextStep,prevStep:this.prevStep,handleChange:this.handleChange,values:a});case 4:return r.a.createElement(ea,{nextStep:this.nextStep,prevStep:this.prevStep,values:a});case 5:return r.a.createElement(na,null);default:return r.a.createElement(E.a,{to:"/homepage"})}}}]),t}(n.Component),sa=Object(y.b)(function(e){return{app:e.app,user:e.user,account:e.account}},function(e){return{onCreateAccount:function(t){return e(M())}}})(Ne(ra,w)),oa=a(95),ia=a.n(oa),ua=a(275),ca=a.n(ua),la=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).takeTheSurvey=a.takeTheSurvey.bind(Object(pe.a)(Object(pe.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.onListSurveys()}},{key:"takeTheSurvey",value:function(e){this.props.onGetSurveyAndQuestions(e),this.props.history.replace("/survey")}},{key:"render",value:function(){var e=this,t=this.props.survey.surveys&&this.props.survey.surveys.map(function(t){return r.a.createElement("div",{onClick:function(){return e.takeTheSurvey(t.id)},className:ia.a.item},r.a.createElement("div",{className:ia.a.text},"".concat(t.id,". ").concat(t.title)),r.a.createElement(ca.a,{className:ia.a.check}))});return r.a.createElement("div",{className:ia.a.surveysList},r.a.createElement("h1",{style:{textAlign:" center",fontFamily:"Raleway",color:"#34495e"}},"List of Available Surveys"),r.a.createElement("div",{className:ia.a.container}," ",t," "))}}]),t}(n.Component),da=Le(Object(y.b)(function(e){return{survey:e.survey}},function(e){return{onListSurveys:function(){return e(function(e){t>0?w.get("/surveys/owner/".concat(t)).then(function(t){if(200===t.status)if(t.data.errno)console.log("asyncSurveyList, ERROR",t.data.sqlMessage),e(te(t.data.sqlMessage));else{var a=t.data;e(ee(a))}}).catch(function(t){e(te(t))}):w.get("/surveys").then(function(t){if(200===t.status)if(t.data.errno)console.log("asyncSurveyList, ERROR",t.data.sqlMessage),e(te(t.data.sqlMessage));else{var a=t.data;e(ee(a))}}).catch(function(t){e(te(t))})});var t},onGetSurveyAndQuestions:function(t){return e(ne(t))},onLogoutUser:function(){return e({type:"LOGOUT_USER"})}}})(Ne(la,w))),pa=a(276),ma=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).makeChart=a.makeChart.bind(Object(pe.a)(Object(pe.a)(a))),a.state={optionArray:[],answerArray:[],question:[],values:[],data:[],isThereChoice:"",type:[],questionId:a.props.questionId,isClicked:!1,buttonText:"Show Chart",number:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"makeChart",value:function(){var e=this;this.state.isClicked?(document.getElementById("chart"+this.state.questionId).style.display="none",document.getElementById("number"+this.state.questionId).style.display="none",document.getElementById("Cbtn"+this.state.questionId).className="btn btn-success",this.setState({isClicked:!1}),this.setState({buttonText:"Show Chart"})):(document.getElementById("Cbtn"+this.state.questionId).className="btn btn-warning",document.getElementById("chart"+this.state.questionId).style.display="block",document.getElementById("number"+this.state.questionId).style.display="block",this.setState({isClicked:!0}),this.setState({buttonText:"Hide Chart"}));var t=S.api.url+"/answers/question/count/"+this.state.questionId;b.a.get(t).then(function(t){e.setState({number:t.data[0].number})});var a=S.api.url+"/questions/"+this.state.questionId;b.a.get(a).then(function(t){e.setState({question:t.data[0].question})});var n=S.api.url+"/answer_options/question/"+this.state.questionId;b.a.get(n).then(function(t){for(var a=[],n=0;n<t.data.length;n++)a.push(t.data[n].answer);0===a.length?(e.setState({isThereChoice:!1}),e.setState({type:["WordTree"]})):(e.setState({isThereChoice:!0}),e.setState({optionArray:a}),e.setState({type:["PieChart","Bar","ScatterChart","BarChart"]}))});var r=S.api.url+"/answers/question/"+this.state.questionId;b.a.get(r).then(function(t){for(var a=[],n=0;n<t.data.length;n++)a.push(t.data[n].answer);e.setState({answerArray:a});var r=[];if(!0===e.state.isThereChoice){for(n=0;n<e.state.optionArray.length;n++){for(var s=0,o=0;o<e.state.answerArray.length;o++)e.state.optionArray[n]===e.state.answerArray[o]&&s++;r.push(s)}e.setState({values:r});for(var i=[["Answer Option","Number of Answers"]],u=0;u<e.state.optionArray.length;u++){var c=[e.state.optionArray[u],e.state.values[u]];i.push(c)}}else for(i=[["Phrases"]],n=0;n<a.length;n++)i.push([a[n]]);e.setState({data:i})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"text-left"},r.a.createElement("button",{className:"btn btn-success",id:"Cbtn"+this.state.questionId,onClick:this.makeChart},this.state.buttonText),r.a.createElement("br",null),r.a.createElement("div",{id:"number"+this.state.questionId,style:{display:"none"}},"Number of people who participated in this question:"," ",this.state.number),r.a.createElement("div",{id:"chart"+this.state.questionId},this.state.type.map(function(t){return r.a.createElement("td",null,r.a.createElement(pa.a,{width:"600px",height:"300px",chartType:t,loader:r.a.createElement("div",null,"Loading Chart"),data:e.state.data,options:{title:e.state.question}}))})))}}]),t}(n.Component),ha=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).getQuestions=a.getQuestions.bind(Object(pe.a)(Object(pe.a)(a))),a.state={questions:[],isClicked:!1,buttonText:"Show Question",surveyId:a.props.survey,numbers:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.get(S.api.url+"/answers/survey/count/"+this.props.survey).then(function(t){var a=t.data[0].number;e.setState({numbers:a})})}},{key:"getQuestions",value:function(){var e=this;this.state.isClicked?(document.getElementById("survey"+this.state.surveyId).style.display="none",document.getElementById("Qbtn"+this.state.surveyId).className="btn btn-primary",this.setState({isClicked:!1}),this.setState({buttonText:"Show Questions"})):(document.getElementById("Qbtn"+this.state.surveyId).className="btn btn-warning",document.getElementById("survey"+this.state.surveyId).style.display="block",this.setState({isClicked:!0}),this.setState({buttonText:"Hide Questions"})),b.a.get(S.api.url+"/surveys/"+this.props.survey+"/questions").then(function(t){var a=t.data;e.setState({questions:a})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("button",{className:"btn btn-primary",onClick:this.getQuestions,id:"Qbtn"+this.state.surveyId},this.state.buttonText)),r.a.createElement("br",null),r.a.createElement("table",{className:"table table-bordered table-condensed"},r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("div",{id:"numberText"+this.state.surveyId,className:"text-left text-monospace"},r.a.createElement("b",null,"Number of people who participated this survey:"," ",this.state.numbers)),r.a.createElement("br",null),r.a.createElement("div",{id:"survey"+this.state.surveyId},this.state.questions.map(function(t){return r.a.createElement("table",{key:t.id},r.a.createElement("tr",null,r.a.createElement("th",{className:"text-left"},t.question)),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(ma,{questionId:t.id,survey:e.props.survey}))))}))))))}}]),t}(n.Component),fa=a(278),Ea=a.n(fa),va=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).call(this))).AuthHandler=new Ue,e.state={surveys:[],owner:e.AuthHandler.getData().owner},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;"admin"===this.AuthHandler.getData().type?b.a.get(S.api.url+"/surveys/").then(function(t){var a=t.data;e.setState({surveys:a})}):b.a.get(S.api.url+"/surveys/owner/"+this.state.owner).then(function(t){var a=t.data;e.setState({surveys:a})})}},{key:"render",value:function(){return r.a.createElement("div",{className:Ea.a.result},r.a.createElement("div",{className:"container"},this.state.surveys.map(function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-3"},r.a.createElement("h4",null,e.title))),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col"},r.a.createElement(ha,{survey:e.id}))))})))}}]),t}(n.Component),ya=Object(y.b)(null,function(e){return{onLogoutUser:function(){return e({type:"LOGOUT_USER"})}}})(Je(va)),ga=a(35),ba=a.n(ga),Sa=a(635),_a=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).AuthHandler=new Ue,a.onChange=function(e){var t=a.state;t[e.target.name]=e.target.value,a.setState(t)},a.handleSubmit=function(e){e.preventDefault(),a.props.onUserLogin(a.state.account,a.state.password),a.AuthHandler.login(a.state.account,a.state.password).then(function(e){!1===e.status?(alert(e.message),a.props.history.push("/login")):(localStorage.setItem("sec",a.AuthHandler.whenExpired()),a.props.history.replace("/home"))}).catch(function(e){alert(e)})},a.onChange=a.onChange.bind(Object(pe.a)(Object(pe.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(pe.a)(Object(pe.a)(a))),a.state={account:"",password:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.AuthHandler.loggedIn()&&this.AuthHandler.tokenCheck()&&this.props.history.replace("/home")}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:ba.a.body},r.a.createElement("div",{className:ba.a.wrapper},r.a.createElement("div",{className:ba.a.left},r.a.createElement("div",{className:ba.a.signin},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",null,r.a.createElement("label",null,"Email or username"),r.a.createElement("input",{type:"text",id:"account",name:"account",autoComplete:"false",autoFocus:!0,onChange:this.onChange,className:ba.a.textInput})),r.a.createElement("div",null,r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",id:"password",name:"password",autoComplete:"false",onChange:this.onChange,className:ba.a.textInput})),r.a.createElement("button",{type:"submit",className:ba.a.primaryBtn},"Sign In")),r.a.createElement("div",{className:ba.a.links},r.a.createElement(Sa.a,{to:"#"},"Forgot Password"),r.a.createElement(Sa.a,{to:"#"},"Sign in with company or school")),r.a.createElement("div",{className:ba.a.or},r.a.createElement("hr",{className:ba.a.bar}),r.a.createElement("span",null,"OR"),r.a.createElement("hr",{className:ba.a.bar})),r.a.createElement(Sa.a,{to:"/registration",className:ba.a.secondaryBtn},"Create an account"),r.a.createElement(f.a,{path:"/registration",component:sa}))),r.a.createElement("div",{className:ba.a.right},r.a.createElement("div",{className:ba.a.showcase},r.a.createElement("div",{className:ba.a.showcaseContent},r.a.createElement("h1",{className:ba.a.show,caseText:!0},"Let's survey ",r.a.createElement("strong",null,"the future")),r.a.createElement(Sa.a,{to:"/Home",className:ba.a.secondaryBtn},"Start a FREE 10-day trial")))))))}}]),t}(n.Component),wa=Object(y.b)(null,function(e){return{onUserLogin:function(t,a){return e(function(e,t){var a={account:e,password:t};return function(e){w.post("/login",a).then(function(t){if(t&&200===t.status)if(t.data.errno)e(ue(t.data.sqlMessage));else if(t.data.err&&t.data.message)e(ue(t.data.message));else if(t.data.status){var a=se()(t.data.token);w.get("/users/firstname/".concat(a.owner)).then(function(t){var n;200===t.status&&(t.data.errno?e(ce(t.data.sqlMessage)):(a.firstname=t.data[0].firstname,e({type:"USER_LOGIN",data:n=a,userType:n.type})))}).catch(function(e){ce(e)})}else e(ue(t.data.status))})}}(t,a))}}})(_a),Aa=a(70),Oa=function(e){var t=e.question;return r.a.createElement(r.a.Fragment,null,r.a.createElement(wt.a,{id:"standard-name",children:t,name:"ans1",margin:"dense",style:{color:"black",fontWeight:700,fontSize:20},variant:"filled"}),r.a.createElement("br",null))},Ca=a(139),ja=a.n(Ca),Da=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={value:"",Answer:{}},a.handleRadioButtonChange=function(e){document.getElementById(e).checked=!0},a.handleChange=function(e,t){var n=Object.assign({},a.state.Answer);n.AnswerOpt=e.target.value,n.questionId=a.props.questionId,n.answerId=e.target.id,t.Options.slice(0).forEach(function(e){var t=Object(u.a)({},e),a=Object(u.a)({},t.props);a.name===n.answerId?a.checked=!0:a.checked=null,t.props=a,e=t}),a.setState({Answer:n});var r=document.getElementById(n.answerId);r&&"undefined"!==r&&(document.getElementById(n.answerId).checked=!0),a.props.onSave(n)},a.isAnswerSelected=function(e){a.props.Answer&&"undefined"!==a.props.Answer&&a.props.Answer.forEach(function(t){if(+t.answerId===e)return!0});return null},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.AnswerOption,a=t&&t.map(function(t){return r.a.createElement(Nt.a,{key:t.id,value:t.answer_option,name:t.id,control:r.a.createElement(Ot.a,{id:t.id,checked:e.isAnswerSelected(t.id),color:"primary"}),label:t.answer_option,labelPlacement:"top"})});return r.a.createElement(gt.a,{style:Na.RadioAnswer},r.a.createElement(jt.a,{"aria-label":"position",name:"position",value:this.state.Answer.answer_option,onChange:function(t){return e.handleChange(t,{Options:a})},row:!0},a))}}]),t}(r.a.Component),Na={RadioAnswer:{marginTop:10,marginBottom:40,color:"#000d11"}},Ia=Da,Ta=a(279),ka=a.n(Ta),Ua=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={questions:[],AnswerOpt:[],Answer:[]},a.handleSubmit=function(e){console.log("!!!!SurveyForm, handleSubmit, HERE, e",e),e.preventDefault();var t=a.state.Answer;console.log("SurveyForm, handleSubmit, Answer",t),t.forEach(function(e){return a.props.onRegisterAnswer(e.AnswerOpt,e.questionId,a.props.app.user_id)}),alert("Thank you for participating in this survey!"),a.props.history.push("/surveys"),alert("Thanks you for taking the survey")},a.onSave=function(e){var t=null;t=a.state.Answer?a.state.Answer.filter(function(t){return t.questionId!==e.questionId}):[],a.setState(function(a){return{Answer:[].concat(Object(Aa.a)(t),[e])}});var n=document.getElementById(e.answerId);n&&"undefined"!==n&&(document.getElementById(e.answerId).checked="checked")},a.getSurvey=a.getSurvey.bind(Object(pe.a)(Object(pe.a)(a))),a.logState=a.logState.bind(Object(pe.a)(Object(pe.a)(a))),a.state={title:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"getSurvey",value:function(e){this.props.onGetSurveyAndQuestions(e)}},{key:"componentWillMount",value:function(){}},{key:"componentWillUpdate",value:function(e,t,a){if(this.props.survey.survey&&this.props.survey.survey.questions&&this.props.survey.survey.questions[0]&&e.survey.survey&&e.survey.survey.questions&&e.survey.survey.questions[0]&&this.props.survey.survey.questions[0].answers!==e.survey.survey.questions[0].answers&&"undefined"!==this.props.survey.survey.questions[0].answers&&"undefined"!==e.survey.survey.questions[0].answers)return!0}},{key:"componentWillReceiveProps",value:function(e,t){e.survey.survey&&e.survey.survey.questions&&this.setState({questions:e.survey.survey.questions})}},{key:"render",value:function(){var e=this;if(this.props.survey&&this.props.survey.survey){var t=this.state.Answer,a=this.props.survey.survey.questions.slice(0);return a=a.map(function(a,n){return void 0===a.answers?r.a.createElement("div",null,"Loading..."):r.a.createElement("div",{key:n},r.a.createElement(Oa,a),r.a.createElement(Ia,{questionId:a.id,AnswerOption:a.answers,Answer:t,onSave:e.onSave,question:a}))}),r.a.createElement("div",{className:ka.a.survey_form},r.a.createElement("h1",null,this.props.survey.survey.title),r.a.createElement("form",{onSubmit:this.handleSubmit},a,r.a.createElement(ja.a,{type:"submit",variant:"contained",color:"primary",style:La.button},"Submit")))}return r.a.createElement("div",null,"Loading...")}}]),t}(n.Component),La={button:{backgroundColor:"#2196f3",marginTop:30,marginBottom:30}},Ra=Le(Object(y.b)(function(e){return{survey:e.survey,app:e.app}},function(e){return{onGetSurveyAndQuestions:function(t){return e(ne(t))},onRegisterAnswer:function(t,a,n){return e(function(e,t,a){var n={user_answer:e,userFK:a,question:t};return function(e){w.post("/answers",n).then(function(t){200===t.status&&(t.data.errno?e($(t.data.sqlMessage)):e({type:"REGISTER_ANSWER",answer:n}))}).catch(function(t){e($(t))})}}(t,a,n))},onLogoutUser:function(){return e({type:"LOGOUT_USER"})}}})(Ne(Ua,w))),Ma=a(282),Fa=a.n(Ma),qa=a(283),xa=a.n(qa),Ya=a(280),Ba=a.n(Ya),Pa=a(281),Ha=a.n(Pa),Va=a(110),Qa=a.n(Va),Ga=a(111),Ka=a.n(Ga),Wa=a(141),Xa=a.n(Wa),za=a(613),Ja=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).AuthHandler=new Ue,a.state={left:!1},a.toggleDrawer=function(e,t){return function(){a.setState(Object(mt.a)({},e,t))}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e={drawerStyle:{padding:"0.5rem 2rem"},link:{textDecoration:"none"}},t=r.a.createElement("div",null,[{name:"Home",link:"/home"},{name:"Surveys",link:"/surveys"},{name:"Users Manager",link:"/usersmanager"},{name:"Result Chart",link:"/result"},{name:"Survey Manager",link:"/surveysmanager"},{name:"Accounts Manager",link:"/accountsmanager"}].map(function(t,a){return r.a.createElement(Qa.a,{key:a,style:e.link,component:za.a,to:t.link},r.a.createElement(Ka.a,{button:!0},r.a.createElement(Xa.a,{primary:t.name})))})),a=r.a.createElement("div",null,[{name:"Home",link:"/home"},{name:"Surveys",link:"/surveys"},{name:"Result Chart",link:"/result"},{name:"Survey Manager",link:"/surveysmanager"}].map(function(t,a){return r.a.createElement(Qa.a,{key:a,style:e.link,component:za.a,to:t.link},r.a.createElement(Ka.a,{button:!0},r.a.createElement(Xa.a,{primary:t.name})))})),n=r.a.createElement("div",null,[{name:"Home",link:"/home"},{name:"Surveys",link:"/surveys"}].map(function(t,a){return r.a.createElement(Qa.a,{key:a,style:e.link,component:za.a,to:t.link},r.a.createElement(Ka.a,{button:!0},r.a.createElement(Xa.a,{primary:t.name})))}));return r.a.createElement("div",{style:e.drawerStyle},r.a.createElement(Lt.a,{onClick:this.toggleDrawer("left",!0),style:{outline:"none"},color:"inherit","aria-label":"Menu"},r.a.createElement(Ba.a,null)),r.a.createElement(Ha.a,{anchor:"left",open:this.state.left,onClose:this.toggleDrawer("left",!1),onOpen:this.toggleDrawer("left",!0)},r.a.createElement("div",{tabIndex:0,role:"button",onClick:this.toggleDrawer("left",!1),onKeyDown:this.toggleDrawer("left",!1)},this.props.isLogged?["admin"===this.AuthHandler.getData().type?t:["company"===this.AuthHandler.getData().type?a:["client"===this.AuthHandler.getData().type?n:null]]]:null)))}}]),t}(n.Component),Za=a(284),$a=a.n(Za),en=a(142),tn=a.n(en),an=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).call(this))).AuthHandler=new Ue,e.showDropdown=function(t){t.preventDefault(),e.setState({anchorEl:t.currentTarget})},e.closeDropdown=function(){e.setState({anchorEl:null})},e._handleLogout=function(){console.log("App, handleLogout"),e.AuthHandler.logout(),e.props.onLogoutUser(),e.props.history.replace("/login")},e.state={anchorEl:null},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e={marginLeft:"auto",padding:"0.9rem 2rem",display:this.props.app.logged_in?"block":"none"},t={marginLeft:this.props.app.logged_in?"0":"auto",marginRight:this.props.app.logged_in?"0":"auto",fontSize:"2rem",fontWeight:400,letterSpacing:".6rem",textTransform:"uppercase"},a=this.state.anchorEl;return r.a.createElement("div",null,r.a.createElement(Fa.a,{position:"relative",style:{position:"fixed",backgroundColor:"#384048",color:"#FFF",fontWeight:700,marginRight:"auto",flexDirection:"row",height:"4rem",boxShadow:"0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12)"}},this.props.app.loggedIn?r.a.createElement(Ja,{isLogged:this.props.app.logged_in}):null,r.a.createElement(xa.a,{style:Object(u.a)({},t)}," Survey App "),this.props.app.loggedIn?r.a.createElement("div",{style:Object(u.a)({},e)},r.a.createElement(ja.a,{style:{color:"#E8BD36",outline:"none",letterSpacing:".4rem",boxShadow:"0px 0px 5px"},"aria-owns":a?"simple-menu":void 0,"aria-haspopup":"true",onClick:this.showDropdown},r.a.createElement("span",{style:{marginRight:"0.4rem"}},"Hello")," ",this.props.app.firstname,"!"),r.a.createElement($a.a,{id:"simple-menu",anchorEl:a,open:Boolean(a),onClose:this.closeDropdown,className:"dropMenu"},r.a.createElement(tn.a,{onClick:this.closeDropdown},r.a.createElement(Sa.a,{to:"/user"},"Profile")),r.a.createElement(tn.a,{onClick:this.closeDropdown},r.a.createElement(Sa.a,{to:"/account"},"My account")),r.a.createElement(tn.a,{onClick:this.closeDropdown},r.a.createElement("button",{className:"btn-sm btn-warning",onClick:this._handleLogout},"Logout")))):null))}}]),t}(n.Component),nn=Object(y.b)(function(e){return{app:e.app}},function(e){return{onLogoutUser:function(){return e({type:"LOGOUT_USER"})}}})(an),rn=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).call(this))).AuthHandler=new Ue,e._handleLogout=function(){e.AuthHandler.logout(),e.props.onLogoutUser(),e.props.history.replace("/login")},e.state={id:""},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.AuthHandler.loggedIn()&&this.AuthHandler.tokenCheck()&&(this.props.onLoginUser(this.AuthHandler.getData().id),this._setInfo())}},{key:"_setInfo",value:function(){this.setState({id:this.AuthHandler.getData().id},function(){})}},{key:"componentDidUpdate",value:function(){this.AuthHandler.isTokenExpired(localStorage.getItem("id_token"))&&(alert("token has expired"),this._handleLogout())}},{key:"render",value:function(){return r.a.createElement("div",{className:de.a.App},r.a.createElement(nn,{history:this.props.history}),r.a.createElement(h.a,null,r.a.createElement(f.a,{path:"/home",component:Ve}),r.a.createElement(f.a,{path:"/account",component:Me}),r.a.createElement(f.a,{path:"/user",component:Ye}),r.a.createElement(f.a,{path:"/surveybuilder",component:$e}),r.a.createElement(f.a,{path:"/surveysmanager",component:nt}),r.a.createElement(f.a,{path:"/accountsmanager",component:ut}),r.a.createElement(f.a,{path:"/usersmanager",component:pt}),r.a.createElement(f.a,{path:"/registration",component:sa}),r.a.createElement(f.a,{path:"/surveys",component:da}),r.a.createElement(f.a,{path:"/survey",component:Ra}),r.a.createElement(f.a,{path:"/result",component:ya}),r.a.createElement(f.a,{path:"/login",component:wa}),r.a.createElement(E.a,{to:"/home"})),r.a.createElement("footer",{style:Object(u.a)({},{padding:"1.5rem 0",background:"#2d343a",color:"white",fontSize:"1.5rem"})},"\xa9 Survey Inc"))}}]),t}(n.Component),sn=Object(v.a)(Object(y.b)(function(e){return{app:e.app,account:e.account}},function(e){return{onFetchFirstname:function(t){return e(function(e){var t="/users/firstname/".concat(e);return function(a){w.get(t).then(function(t){if(200===t.status)if(t.data.errno)a(ce(t.data.sqlMessage));else{var n=t&&t.data&&t.data[0]&&t.data[0].firstname;a(function(e,t){return{type:"FETCH_USER_FIRSTNAME",firstname:e,account_id:t}}(n,e))}}).catch(function(e){ce(e)})}}(t))},onSetAccountId:function(t){return e({type:"SET_ACCOUNT_ID"})},onSetUserAccountFK:function(t){return e(V(t))},onLoginUser:function(t){return e(function(e){var t=null,a=null;return function(n){w.get("/users/".concat(e,"/account")).then(function(r){200===r.status&&(r.data.errno?n(ie(r.data.sqlMessage)):(t=r.data[0].account_id,w.get("/users/firstname/".concat(t)).then(function(s){200===r.status&&(r.data.errno?(console.log("ERROR",s.data.sqlMessage),n(ie(s.data.sqlMessage))):(a=s.data[0].firstname,n(function(e,t,a){return{type:"LOGIN_USER",account_id:e,user_id:t,user_name:a}}(t,e,a))))}).catch(function(e){n(ie(e))})))}).catch(function(e){n(ie(e))})}}(t))},onLogoutUser:function(){return e({type:"LOGOUT_USER"})}}})(Ne(rn,w)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var on=a(638),un=a(286),cn=function(e,t){return Object(u.a)({},e,t)},ln={survey:null,error:!1},dn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_SURVEY":var a=Object(u.a)({},t.survey),n=Object(Aa.a)(e.survey.questions);return a.saveSuccess=!0,a.editingSurvey=!1,a.newSurvey=!1,a.questions=n,a.saveSuccess=!0,Object(u.a)({},e,{survey:a});case"SAVE_SURVEY_FAILED":return cn(e,{error:!0,errorMessage:t.error});case"FETCH_SURVEY":var r=t.survey.questions.slice(0);r.forEach(function(e){e.editing=!1,e.showAnswers=!1});var s=Object(u.a)({},t.survey);return s.questions=r,Object(u.a)({},e,{survey:s});case"FETCH_SURVEY_FAILED":return cn(e,{error:!0,errorMessage:t.error});case"CREATE_SURVEY":var o={id:t.id,title:"",questions:null,newSurvey:!0};return Object(u.a)({},e,{survey:o}),Object(u.a)({},e,{survey:o});case"CREATE_SURVEY_FAILED":return cn({error:!0,errorMessage:t.error});case"SET_SURVEY_ID":var i={id:t.id,newSurvey:!1};return Object(u.a)({},e,{survey:i});case"SET_SURVEY_TITLE":var c=Object(u.a)({},t.survey);return c.title=t.title,c.questions&&(c.questions=Object(Aa.a)(e.survey.questions)),Object(u.a)({},e,{survey:c});case"EDIT_SURVEY_DATA":var l=Object(u.a)({},t.survey);return l.editingSurvey=!0,Object(u.a)({},e,{survey:l});case"CREATE_ANSWER":if(Array.isArray(e.survey.questions)&&e.survey.questions.length){var d=null,p=null,m=t.answer;m=Object(u.a)({},m,{editing:!0}),(d=e.survey.questions.slice(0)).forEach(function(e){e.id===m.questionFK&&(Array.isArray(e.answers)&&e.answers.length||(e.answers=[]),(p=e.answers.slice(0)).length?p.push(m):p=[m],e.answers=p)});var h=Object(u.a)({},e.survey);return h.questions=d,Object(u.a)({},e,{survey:h})}return e;case"CREATE_ANSWER_FAILED":return cn(e,{error:!0,errorMessage:t.error});case"EDIT_ANSWER":var f=e.survey.questions.slice(0);f.forEach(function(e,a){if(e.id===t.answer.questionFK){var n=e.answers.slice(0);n.forEach(function(e){e.id===t.answer.id&&(e.editing=!0)}),f.answers=n}});var E=Object(u.a)({},e.survey);return E.questions=f,Object(u.a)({},e,{survey:E});case"SET_ANSWER_STRING":var v=Object(u.a)({},e.survey),y=Object(Aa.a)(e.survey.questions);return y.forEach(function(e){if(e.answers){var a=Object(Aa.a)(e.answers);a.forEach(function(e){e.id===t.id&&(e.answer=t.answer)}),e.answers=a}}),v.questions=y,Object(u.a)({},e,{survey:v});case"SAVE_ANSWER":var g=e.survey.questions.slice(0),b=null,S=t.answer;S=Object(u.a)({},S,{editing:!1}),g.forEach(function(e){e.id===S.questionFK&&(b=e.answers.slice(0)).forEach(function(e){e.id===t.answer.id&&(e.editing=!1)}),e.answers=b});var _=Object(u.a)({},e.survey);return _.questions=g,Object(u.a)({},e,{survey:_});case"SAVE_ANSWER_FAILED":return cn(e,{error:!0,errorMessage:t.error});case"CANCEL_EDIT_ANSWER":var w=null,A=e.survey.questions.slice(0),O=null;A.forEach(function(e){e.id===t.answer.questionFK&&((O=e.answers.slice(0)).forEach(function(e,a){e.id===t.answer.id&&(t.answer.answer_option?(e.editing=!1,w=-1):w=a)}),w>-1&&O.splice(w,1),e.answers=O)});var C=Object(u.a)({},e.survey);return C.questions=A,Object(u.a)({},e,{survey:C});case"DELETE_ANSWER":var j=e.survey.questions.slice(0);j.forEach(function(e){if(e.id===t.answer.questionFK){var a=null,n=e.answers.slice(0);n.forEach(function(e,n){e.id===t.answer.id&&(a=n)}),n.splice(a,1),e.answers=n}});var D=Object(u.a)({},e.survey);return D.questions=j,Object(u.a)({},e,{survey:D});case"DELETE_ANSWER_FAILED":return cn(e,{error:!0,errorMessage:t.error});case"CREATE_QUESTION":if(Array.isArray(e.survey.questions)){var N=null,I=t.question;I=Object(u.a)({},I,{editing:!0,answers:null}),e.survey.questions.length?(N=e.survey.questions.slice(0)).push(I):N=[I];var T=Object(u.a)({},e.survey);return T.questions=N,Object(u.a)({},e,{survey:T})}return e;case"CREATE_QUESTION_FAILED":return cn(e,{error:!0,errorMessage:t.error});case"SET_QUESTION_STRING":var k=Object(u.a)({},e.survey),U=Object(Aa.a)(e.survey.questions);return U.forEach(function(e){e.id===t.id&&(e.question=t.question)}),k.questions=U,Object(u.a)({},e,{survey:k});case"SAVE_QUESTION":if(Array.isArray(e.survey.questions)){var L=null,R=t.question;e.survey.questions.length?(L=e.survey.questions.slice(0)).forEach(function(e){e.id===t.question.id&&(e.id=R.id,e.question=R.question,e.editing=!1,e.showAnswers=!1,e.answers=R.answers)}):L=[R];var M=Object(u.a)({},e.survey);return M.questions=L,Object(u.a)({},e,{survey:M})}return e;case"SAVE_QUESTION_FAILED":return cn(e,{error:!0,errorMessage:t.error});case"CANCEL_EDIT_QUESTION":var F=null,q=e.survey.questions.slice(0);q.forEach(function(e,a){e.id===t.id&&(t.value?(e.editing=!1,F=-1):F=a)}),F>-1&&q.splice(F,1);var x=Object(u.a)({},e.survey);return x.questions=q,Object(u.a)({},e,{survey:x});case"SHOW_ANSWERS":var Y=e.survey.questions.slice(0);Y.forEach(function(e){e.id===t.question.id&&(e.showAnswers=!0)});var B=Object(u.a)({},e.survey);return B.questions=Y,Object(u.a)({},e,{survey:B});case"HIDE_ANSWERS":var P=e.survey.questions.slice(0);P.forEach(function(e){e.id===t.question.id&&(e.showAnswers=!1)});var H=Object(u.a)({},e.survey);return H.questions=P,Object(u.a)({},e,{survey:H});case"EDIT_QUESTION":var V=e.survey.questions.slice(0);V.forEach(function(e,a){e.id===t.question.id&&(e.editing=!0,e.showAnswers=!1)});var Q=Object(u.a)({},e.survey);return Q.questions=V,Object(u.a)({},e,{survey:Q});case"DELETE_QUESTION":var G=null,K=e.survey.questions.slice(0);K.forEach(function(e,a){e.id===t.id&&(G=a)}),K.splice(G,1);var W=Object(u.a)({},e.survey);return W.questions=K,Object(u.a)({},e,{survey:W});case"DELETE_QUESTION_FAILED":return cn(e,{error:!0,errorMessage:t.error});default:return e}},pn={id:null,account:"",expireDate:"",isExpired:null,joinedDate:"",modifiedDate:"",password:""},mn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ACCOUNT":if(t.account){var a=t.account,n={id:a.id,account:a.account,password:a.password,joinedDate:a.joinedDate,expireDate:a.expireDate,isExpired:a.isExpired,modifiedDate:a.modifiedDate,newAccount:!1,editing:!1,fetchSuccess:!0};return Object(u.a)({},e,n)}return e;case"FETCH_ACCOUNT_FAILED":return cn(e,{error:!0,errorMessage:t.error});case"CREATE_ACCOUNT":var r={id:t.id,account:"",expireDate:null,isExpired:null,joinedDate:ke()(),modifiedDate:ke()(),password:"",newAccount:!0,routing:!0,editing:!0};return Object(u.a)({},e,r);case"CREATE_ACCOUNT_FAILED":return cn(e,{error:!0,errorMessage:t.error});case"CREATE_NEW_ACCOUNT":var s={id:t.account.id,account:t.account.account,expireDate:t.account.expireDate,joinedDate:t.account.joinedDate,password:t.account.password,newAccount:!1,editing:!1,saveSuccess:!0};return Object(u.a)({},s);case"EDIT_ACCOUNT":var o=t.account;return o=Object(u.a)({},o,{newAccount:!1,editing:!0}),Object(u.a)({},e,o);case"CANCEL_EDIT_ACCOUNT":var i=Object(u.a)({},t.account);return i=Object(u.a)({},i,{newAccount:!1,editing:!1}),Object(u.a)({},e,i);case"SAVE_ACCOUNT":var c=t.account;return c=Object(u.a)({},c,{saveSuccess:!0,editing:!1,newAccount:!1,componentShouldUpdate:!0}),Object(u.a)({},e,c);case"SAVE_ACCOUNT_FAILED":return cn(e,{error:!0,errorMessage:t.error});case"RESET_ACCOUNT":var l={id:t.id,account:"",expireDate:null,isExpired:null,joinedDate:ke()(),modifiedDate:ke()(),password:"",routing:t.routing,newAccount:t.newAccount,editing:!1,componentShouldUpdate:!0};return Object(u.a)({},e,l),Object(u.a)({},e,l);case"SET_ACCOUNT_ID":default:return e}},hn={id:null,firstname:"",lastname:"",accountFK:null,email:"",phone:"",streetAddress:"",postalCode:"",birthdate:null,rewards:"",modifiedDate:""},fn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USER":if(t.user){var a=t.user,n={id:a.id,firstname:a.firstname,lastname:a.lastname,accountFK:a.accountFK,email:a.email,phone:a.phone,streetAddress:a.streetAddress,postalCode:a.postalCode,rewards:a.rewards,birthdate:a.birthdate,modifiedDate:a.modifiedDate};return Object(u.a)({},e,n)}return e;case"FETCH_USER_FAILED":return cn(e,{error:!0,errorMessage:t.error});case"CREATE_USER":if(t.id){var r={id:t.id,firstname:"",lastname:"",accountFK:null,email:"",phone:"",streetAddress:"",postalCode:"",rewards:0,birthdate:null,modifiedDate:ke()().format("YYYY-MM-DD hh:mm:ss"),newUser:!0};return Object(u.a)({},e,r)}return e;case"CREATE_USER_FAILED":return cn(e,{error:!0,errorMessage:t.error});case"EDIT_USER":if(t.user){var s=t.user,o={id:s.id,firstname:s.firstname,lastname:s.lastname,accountFK:s.accountFK,email:s.email,phone:s.phone,streetAddress:s.streetAddress,postalCode:s.postalCode,rewards:s.rewards,birthdate:s.birthdate,modifiedDate:s.modifiedDate,routing:!0};return Object(u.a)({},e,o)}return e;case"SAVE_USER":var i=t.user;return i.saveSuccess=!0,Object(u.a)({},e,i);case"SAVE_USER_FAILED":return cn(e,{error:!0,errorMessage:t.error});case"RESET_USER":return Object(u.a)({},e,{id:null,firstname:"",lastname:"",accountFK:"",email:"",phone:"",streetAddress:"",postalCode:"",rewards:0,birthdate:null,modifiedDate:null});case"LIST_USERS":return e;case"LIST_USERS_FAILED":return cn(e,{error:!0,errorMessage:t.error});case"SET_DEFAULT_USER_ACCOUNT_ID":var c=Object(u.a)({},e.user);return c.accountFK=t.accountId,Object(u.a)({},e,c);case"SET_DEFAULT_USER_ACCOUNT_ID_FAILED":return cn(e,{error:!0,errorMessage:t.error});default:return e}},En={loggged_in:!1,loggedIn:!1,account_id:null,user_id:null,type:"",email:"",firstname:""},vn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:En,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_USER":return{logged_in:!0,loggedIn:!0,account_id:t.account_id,user_id:t.user_id,firstname:t.user_name};case"LOGIN_USER_FAILED":return Object(u.a)({},e,{error:!0,errorMessage:t.error});case"USER_LOGIN":return{logged_in:!0,loggedIn:!0,account_id:t.data.owner,user_id:t.data.id,type:t.data.type,email:t.data.email,firstname:t.data.firstname};case"USER_LOGIN_FAILED":return Object(u.a)({},e,{error:!0,errorMessage:t.error});case"LOGOUT_USER":return Object(u.a)({},En);case"SET_ACCOUNT_ID":return{account_id:t.id,firstname:t.name};case"SET_ACCOUNT_ID_NAME":var a={loggedIn:!0,logged_in:!0,account_id:t.account.id,user_id:t.user.id,firstname:t.user.firstname};return Object(u.a)({},a);case"FETCH_USER_FIRSTNAME":var n={account_id:t.account_id,firstname:t.firstname};return Object(u.a)({},n);default:return e}},yn={surveysManager:null},gn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LIST_SURVEYS":return{surveys:t.surveys};case"LIST_SURVEYS_FAILED":return cn(e,{error:!0,errorMessage:t.error});case"DELETE_SURVEY":var a=null,n=e.surveys.slice(0);return n.forEach(function(e,n){e.id===t.survey.id&&(a=n)}),a&&n.splice(a,1),{surveys:n};case"DELETE_SURVEY_FAILED":return cn(e,{error:!0,errorMessage:t.error});default:return e}},bn={usersManager:null,selectedUser:null},Sn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LIST_USERS":return{users:t.users};case"LIST_USERS_FAILED":return cn(e,{error:!0,errorMessage:t.error});case"SELECT_USER":return Object(u.a)({},e,{selectedUser:t.id});case"DELETE_USER":var a=e.users.slice(0),n=null;return a.forEach(function(e,a){e.id===t.id&&(n=a)}),a.splice(n,1),{users:a};default:return e;case"DELETE_USER_FAILED":return cn(e,{error:!0,errorMessage:t.error})}},_n={accountsManager:null,selectedAccount:null},wn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LIST_ACCOUNTS":return{accounts:t.surveys};case"LIST_ACCOUNTS_FAILED":return cn(e,{error:!0,errorMessage:t.error});case"EDIT_ACCOUNT":return{selectedAccount:t.accountId};case"SELECT_ACCOUNT":return Object(u.a)({},e,{selectedAccount:t.id});case"DELETE_ACCOUNT":var a=e.accounts.slice(0),n=null;return a.forEach(function(e,a){e.id===t.accountId&&(n=a)}),a.splice(n,1),{accounts:a};case"DELETE_ACCOUNT_FAILED":return cn(e,{error:!0,errorMessage:t.error});default:return e}},An={surveys:null,survey:null,fetched:!1},On=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:An,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SURVEY_LIST":return{surveys:t.surveys};case"SURVEY_LIST_FAILED":return Object(u.a)({},e,{error:!0,errorMessage:t.error});case"REGISTER_ANSWER":return Object(u.a)({},e,{answerSavedSuccessfully:!0});case"REGISTER_ANSWER_FAILED":return Object(u.a)({},e,{error:!0,errorMessage:t.error});case"SET_SURVEY_ID":var a={id:t.survey_id,title:"",questions:null,fetchData:!0,fetched:!1};return Object(u.a)({},e,{survey:a});case"GET_SURVEY_AND_QUESTIONS":var n=t.survey.questions.slice(0);n.forEach(function(e,a){e.editing=!1,e.showAnswers=!1;var n=t.survey.questions[a],r=null;n.answers&&(r=n.answers.slice(0)),e.answers=r});var r=Object(u.a)({},t.survey);return r.questions=n,r.fetched=!0,Object(u.a)({},e,{survey:r});case"GET_SURVEY_AND_QUESTIONS_FAILED":return cn(e,{error:!0,errorMessage:t.error});default:return e}},Cn=Object(i.c)({surveyBuilder:dn,account:mn,user:fn,app:vn,surveysManager:gn,usersManager:Sn,accountsManager:wn,survey:On}),jn=function(e,t){return"LOGOUT_USER"===t.type&&(e=void 0),Cn(e,t)},Dn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,Nn=Object(i.e)(jn,Dn(Object(i.a)(function(e){return function(e){return function(t){return e(t)}}},un.a))),In=r.a.createElement(y.a,{store:Nn},r.a.createElement(on.a,null,r.a.createElement(sn,null)));o.a.render(In,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},92:function(e,t,a){e.exports={surveysManager:"SurveysManager__surveysManager__1bqn1",table:"SurveysManager__table__1LSfY",btn:"SurveysManager__btn__3CnWE",btnPrimary:"SurveysManager__btnPrimary__37kYr",btnDanger:"SurveysManager__btnDanger__3wehK"}},93:function(e,t,a){e.exports={accountManager:"AccountsManager__accountManager__1FTnL",table:"AccountsManager__table__26olk",btn:"AccountsManager__btn__31QYF",btnPrimary:"AccountsManager__btnPrimary__11bBz",btnDanger:"AccountsManager__btnDanger__3mYAp"}},94:function(e,t,a){e.exports={usersManager:"UsersManager__usersManager__tod9r",btn:"UsersManager__btn__11p11",btnPrimary:"UsersManager__btnPrimary__3VbHp",btnDanger:"UsersManager__btnDanger__1-Ggs"}},95:function(e,t,a){e.exports={container:"SurveysList__container__y0LO_",item:"SurveysList__item__MKTIs",check:"SurveysList__check__1He-9",text:"SurveysList__text__2Hn13"}}},[[287,2,1]]]);
//# sourceMappingURL=main.f4187e8f.chunk.js.map